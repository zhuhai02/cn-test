2025-07-21 13:37:56 [main] INFO  c.tongtech.cntest.CnTestApplication - Starting CnTestApplication using Java 17.0.15 with PID 315824 (/home/zhuhai/project/cn-test/target/classes started by zhuhai in /home/zhuhai/project/cn-test)
2025-07-21 13:37:56 [main] INFO  c.tongtech.cntest.CnTestApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-21 13:37:57 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-07-21 13:37:57 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-07-21 13:37:57 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-21 13:37:57 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-21 13:37:57 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-21 13:37:57 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1448 ms
2025-07-21 13:38:00 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-07-21 13:38:00 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-07-21 13:38:00 [main] INFO  c.tongtech.cntest.CnTestApplication - Started CnTestApplication in 5.337 seconds (process running for 6.585)
2025-07-21 13:38:01 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ConnectionPool - [[id: 0xdcf1c716, L:/198.18.0.1:52944 - R:/10.10.22.174:6650]] Connected to server
2025-07-21 13:38:01 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ConsumerStatsRecorderImpl - Starting Cnmq consumer status recorder with config: {"topicNames":["persistent://public/default/function_test"],"topicsPattern":null,"subscriptionName":"persistent://public/default/function_test_sub","subscriptionType":"Shared","subscriptionProperties":null,"subscriptionMode":"Durable","receiverQueueSize":1000,"acknowledgementsGroupTimeMicros":100000,"maxAcknowledgmentGroupSize":1000,"negativeAckRedeliveryDelayMicros":5000000,"negativeAckPrecisionBitCnt":8,"maxTotalReceiverQueueSizeAcrossPartitions":50000,"consumerName":"persistent://public/default/function_test_consumer","ackTimeoutMillis":3000,"tickDurationMillis":1000,"priorityLevel":0,"maxPendingChunkedMessage":10,"autoAckOldestChunkedMessageOnQueueFull":false,"expireTimeOfIncompleteChunkedMessageMillis":60000,"cryptoFailureAction":"FAIL","properties":{},"readCompacted":false,"subscriptionInitialPosition":"Latest","patternAutoDiscoveryPeriod":60,"regexSubscriptionMode":"PersistentOnly","deadLetterPolicy":{"maxRedeliverCount":2,"retryLetterTopic":null,"deadLetterTopic":"persistent://public/default/function_test_DLQ","initialSubscriptionName":null,"retryLetterProducerBuilderCustomizer":null,"deadLetterProducerBuilderCustomizer":null},"retryEnable":false,"autoUpdatePartitions":true,"autoUpdatePartitionsIntervalSeconds":60,"replicateSubscriptionState":null,"resetIncludeHead":false,"batchIndexAckEnabled":false,"ackReceiptEnabled":false,"poolMessages":false,"startPaused":false,"autoScaledReceiverQueueSizeEnabled":false,"topicConfigurations":[],"maxPendingChuckedMessage":10}
2025-07-21 13:38:01 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ConsumerStatsRecorderImpl - Cnmq client config: {"serviceUrl":"pulsar://10.10.22.174:6650","authPluginClassName":null,"authParams":null,"authParamMap":null,"operationTimeoutMs":30000,"lookupTimeoutMs":30000,"statsIntervalSeconds":60,"numIoThreads":8,"numListenerThreads":8,"connectionsPerBroker":1,"connectionMaxIdleSeconds":60,"useTcpNoDelay":true,"useTls":false,"tlsKeyFilePath":null,"tlsCertificateFilePath":null,"tlsTrustCertsFilePath":null,"tlsAllowInsecureConnection":false,"tlsHostnameVerificationEnable":false,"sslFactoryPlugin":"com.tongtech.cnmq.common.util.DefaultCnmqSslFactory","sslFactoryPluginParams":"","concurrentLookupRequest":5000,"maxLookupRequest":50000,"maxLookupRedirects":20,"maxNumberOfRejectedRequestPerConnection":50,"keepAliveIntervalSeconds":30,"connectionTimeoutMs":10000,"requestTimeoutMs":60000,"readTimeoutMs":60000,"autoCertRefreshSeconds":300,"initialBackoffIntervalNanos":100000000,"maxBackoffIntervalNanos":60000000000,"enableBusyWait":false,"listenerName":null,"useKeyStoreTls":false,"sslProvider":null,"tlsKeyStoreType":"JKS","tlsKeyStorePath":null,"tlsKeyStorePassword":null,"tlsTrustStoreType":"JKS","tlsTrustStorePath":null,"tlsTrustStorePassword":null,"tlsCiphers":[],"tlsProtocols":[],"memoryLimitBytes":67108864,"proxyServiceUrl":null,"proxyProtocol":null,"enableTransaction":false,"dnsLookupBindAddress":null,"dnsLookupBindPort":0,"dnsServerAddresses":[],"socks5ProxyAddress":null,"socks5ProxyUsername":null,"socks5ProxyPassword":null,"description":null,"lookupProperties":{},"openTelemetry":null}
2025-07-21 13:38:01 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ConsumerImpl - [persistent://public/default/function_test][persistent://public/default/function_test_sub] Subscribing to topic on cnx [id: 0xdcf1c716, L:/198.18.0.1:52944 - R:/10.10.22.174:6650], consumerId 0
2025-07-21 13:38:01 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ConsumerImpl - [persistent://public/default/function_test][persistent://public/default/function_test_sub] Subscribed to topic on /10.10.22.174:6650 -- consumer: 0
2025-07-21 13:38:01 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ConsumerStatsRecorderImpl - Starting Cnmq consumer status recorder with config: {"topicNames":["persistent://public/default/function_test_DLQ"],"topicsPattern":null,"subscriptionName":"persistent://public/default/function_test_DLQ_sub","subscriptionType":"Shared","subscriptionProperties":null,"subscriptionMode":"Durable","receiverQueueSize":1000,"acknowledgementsGroupTimeMicros":100000,"maxAcknowledgmentGroupSize":1000,"negativeAckRedeliveryDelayMicros":5000000,"negativeAckPrecisionBitCnt":8,"maxTotalReceiverQueueSizeAcrossPartitions":50000,"consumerName":"persistent://public/default/function_test_DLQ_consumer","ackTimeoutMillis":3000,"tickDurationMillis":1000,"priorityLevel":0,"maxPendingChunkedMessage":10,"autoAckOldestChunkedMessageOnQueueFull":false,"expireTimeOfIncompleteChunkedMessageMillis":60000,"cryptoFailureAction":"FAIL","properties":{},"readCompacted":false,"subscriptionInitialPosition":"Latest","patternAutoDiscoveryPeriod":60,"regexSubscriptionMode":"PersistentOnly","deadLetterPolicy":null,"retryEnable":false,"autoUpdatePartitions":true,"autoUpdatePartitionsIntervalSeconds":60,"replicateSubscriptionState":null,"resetIncludeHead":false,"batchIndexAckEnabled":false,"ackReceiptEnabled":false,"poolMessages":false,"startPaused":false,"autoScaledReceiverQueueSizeEnabled":false,"topicConfigurations":[],"maxPendingChuckedMessage":10}
2025-07-21 13:38:01 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ConsumerStatsRecorderImpl - Cnmq client config: {"serviceUrl":"pulsar://10.10.22.174:6650","authPluginClassName":null,"authParams":null,"authParamMap":null,"operationTimeoutMs":30000,"lookupTimeoutMs":30000,"statsIntervalSeconds":60,"numIoThreads":8,"numListenerThreads":8,"connectionsPerBroker":1,"connectionMaxIdleSeconds":60,"useTcpNoDelay":true,"useTls":false,"tlsKeyFilePath":null,"tlsCertificateFilePath":null,"tlsTrustCertsFilePath":null,"tlsAllowInsecureConnection":false,"tlsHostnameVerificationEnable":false,"sslFactoryPlugin":"com.tongtech.cnmq.common.util.DefaultCnmqSslFactory","sslFactoryPluginParams":"","concurrentLookupRequest":5000,"maxLookupRequest":50000,"maxLookupRedirects":20,"maxNumberOfRejectedRequestPerConnection":50,"keepAliveIntervalSeconds":30,"connectionTimeoutMs":10000,"requestTimeoutMs":60000,"readTimeoutMs":60000,"autoCertRefreshSeconds":300,"initialBackoffIntervalNanos":100000000,"maxBackoffIntervalNanos":60000000000,"enableBusyWait":false,"listenerName":null,"useKeyStoreTls":false,"sslProvider":null,"tlsKeyStoreType":"JKS","tlsKeyStorePath":null,"tlsKeyStorePassword":null,"tlsTrustStoreType":"JKS","tlsTrustStorePath":null,"tlsTrustStorePassword":null,"tlsCiphers":[],"tlsProtocols":[],"memoryLimitBytes":67108864,"proxyServiceUrl":null,"proxyProtocol":null,"enableTransaction":false,"dnsLookupBindAddress":null,"dnsLookupBindPort":0,"dnsServerAddresses":[],"socks5ProxyAddress":null,"socks5ProxyUsername":null,"socks5ProxyPassword":null,"description":null,"lookupProperties":{},"openTelemetry":null}
2025-07-21 13:38:01 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ConnectionPool - [[id: 0xb6b42d4a, L:/198.18.0.1:46748 - R:/10.10.22.176:6650]] Connected to server
2025-07-21 13:38:01 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ConsumerImpl - [persistent://public/default/function_test_DLQ][persistent://public/default/function_test_DLQ_sub] Subscribing to topic on cnx [id: 0xb6b42d4a, L:/198.18.0.1:46748 - R:/10.10.22.176:6650], consumerId 1
2025-07-21 13:38:01 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ConsumerImpl - [persistent://public/default/function_test_DLQ][persistent://public/default/function_test_DLQ_sub] Subscribed to topic on /10.10.22.176:6650 -- consumer: 1
2025-07-21 13:38:01 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ProducerStatsRecorderImpl - Starting Cnmq producer perf with config: {"topicName":"persistent://public/default/function_test","producerName":null,"sendTimeoutMs":1000,"blockIfQueueFull":false,"maxPendingMessages":0,"maxPendingMessagesAcrossPartitions":0,"messageRoutingMode":"RoundRobinPartition","hashingScheme":"JavaStringHash","cryptoFailureAction":"FAIL","batchingMaxPublishDelayMicros":1000,"batchingPartitionSwitchFrequencyByPublishDelay":10,"batchingMaxMessages":1000,"batchingMaxBytes":131072,"batchingEnabled":true,"chunkingEnabled":false,"chunkMaxMessageSize":-1,"encryptionKeys":[],"compressionType":"NONE","initialSequenceId":null,"autoUpdatePartitions":true,"autoUpdatePartitionsIntervalSeconds":60,"multiSchema":true,"accessMode":"Shared","lazyStartPartitionedProducers":false,"properties":{},"initialSubscriptionName":null,"nonPartitionedTopicExpected":false,"replProducer":false}
2025-07-21 13:38:01 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ProducerStatsRecorderImpl - Cnmq client config: {"serviceUrl":"pulsar://10.10.22.174:6650","authPluginClassName":null,"authParams":null,"authParamMap":null,"operationTimeoutMs":30000,"lookupTimeoutMs":30000,"statsIntervalSeconds":60,"numIoThreads":8,"numListenerThreads":8,"connectionsPerBroker":1,"connectionMaxIdleSeconds":60,"useTcpNoDelay":true,"useTls":false,"tlsKeyFilePath":null,"tlsCertificateFilePath":null,"tlsTrustCertsFilePath":null,"tlsAllowInsecureConnection":false,"tlsHostnameVerificationEnable":false,"sslFactoryPlugin":"com.tongtech.cnmq.common.util.DefaultCnmqSslFactory","sslFactoryPluginParams":"","concurrentLookupRequest":5000,"maxLookupRequest":50000,"maxLookupRedirects":20,"maxNumberOfRejectedRequestPerConnection":50,"keepAliveIntervalSeconds":30,"connectionTimeoutMs":10000,"requestTimeoutMs":60000,"readTimeoutMs":60000,"autoCertRefreshSeconds":300,"initialBackoffIntervalNanos":100000000,"maxBackoffIntervalNanos":60000000000,"enableBusyWait":false,"listenerName":null,"useKeyStoreTls":false,"sslProvider":null,"tlsKeyStoreType":"JKS","tlsKeyStorePath":null,"tlsKeyStorePassword":null,"tlsTrustStoreType":"JKS","tlsTrustStorePath":null,"tlsTrustStorePassword":null,"tlsCiphers":[],"tlsProtocols":[],"memoryLimitBytes":67108864,"proxyServiceUrl":null,"proxyProtocol":null,"enableTransaction":false,"dnsLookupBindAddress":null,"dnsLookupBindPort":0,"dnsServerAddresses":[],"socks5ProxyAddress":null,"socks5ProxyUsername":null,"socks5ProxyPassword":null,"description":null,"lookupProperties":{},"openTelemetry":null}
2025-07-21 13:38:01 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ProducerImpl - [persistent://public/default/function_test] [null] Creating producer on cnx [id: 0xdcf1c716, L:/198.18.0.1:52944 - R:/10.10.22.174:6650]
2025-07-21 13:38:01 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ProducerImpl - [persistent://public/default/function_test] [174-177_test-34-0] Created producer on cnx [id: 0xdcf1c716, L:/198.18.0.1:52944 - R:/10.10.22.174:6650]
2025-07-21 13:38:01 [main] INFO  c.t.c.c.i.ProducerStatsRecorderImpl - [persistent://public/default/function_test] [174-177_test-34-0] --- Publish throughput: 12.93 msg/s --- 0.00 Mbit/s --- Latency: med: 32.000 ms - 95pct: 32.000 ms - 99pct: 32.000 ms - 99.9pct: 32.000 ms - max: 32.000 ms --- BatchSize: med: 1.000 - 95pct: 1.000 - 99pct: 1.000 - 99.9pct: 1.000 - max: 1.000 --- MsgSize: med: 14.000 bytes - 95pct: 14.000 bytes - 99pct: 14.000 bytes - 99.9pct: 14.000 bytes - max: 14.000 bytes --- Ack received rate: 12.93 ack/s --- Failed messages: 0 --- Pending messages: 0
2025-07-21 13:38:01 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ProducerImpl - [persistent://public/default/function_test] [174-177_test-34-0] Closed Producer
2025-07-21 13:38:06 [cnmq-timer-28-1] INFO  c.t.c.c.impl.NegativeAcksTracker - [ConsumerBase{subscription='persistent://public/default/function_test_sub', consumerName='persistent://public/default/function_test_consumer', topic='persistent://public/default/function_test'}] 1 messages will be re-delivered
2025-07-21 13:38:11 [cnmq-timer-28-1] INFO  c.t.c.c.impl.NegativeAcksTracker - [ConsumerBase{subscription='persistent://public/default/function_test_sub', consumerName='persistent://public/default/function_test_consumer', topic='persistent://public/default/function_test'}] 1 messages will be re-delivered
2025-07-21 13:38:16 [cnmq-timer-28-1] INFO  c.t.c.c.impl.NegativeAcksTracker - [ConsumerBase{subscription='persistent://public/default/function_test_sub', consumerName='persistent://public/default/function_test_consumer', topic='persistent://public/default/function_test'}] 1 messages will be re-delivered
2025-07-21 13:38:16 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ProducerStatsRecorderImpl - Starting Cnmq producer perf with config: {"topicName":"persistent://public/default/function_test_DLQ","producerName":"persistent://public/default/function_test-persistent://public/default/function_test_sub-persistent://public/default/function_test_consumer-pchXc-DLQ","sendTimeoutMs":30000,"blockIfQueueFull":false,"maxPendingMessages":0,"maxPendingMessagesAcrossPartitions":0,"messageRoutingMode":"RoundRobinPartition","hashingScheme":"JavaStringHash","cryptoFailureAction":"FAIL","batchingMaxPublishDelayMicros":1000,"batchingPartitionSwitchFrequencyByPublishDelay":10,"batchingMaxMessages":1000,"batchingMaxBytes":131072,"batchingEnabled":false,"chunkingEnabled":true,"chunkMaxMessageSize":-1,"encryptionKeys":[],"compressionType":"NONE","initialSequenceId":null,"autoUpdatePartitions":true,"autoUpdatePartitionsIntervalSeconds":60,"multiSchema":true,"accessMode":"Shared","lazyStartPartitionedProducers":false,"properties":{},"initialSubscriptionName":null,"nonPartitionedTopicExpected":false,"replProducer":false}
2025-07-21 13:38:16 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ProducerStatsRecorderImpl - Cnmq client config: {"serviceUrl":"pulsar://10.10.22.174:6650","authPluginClassName":null,"authParams":null,"authParamMap":null,"operationTimeoutMs":30000,"lookupTimeoutMs":30000,"statsIntervalSeconds":60,"numIoThreads":8,"numListenerThreads":8,"connectionsPerBroker":1,"connectionMaxIdleSeconds":60,"useTcpNoDelay":true,"useTls":false,"tlsKeyFilePath":null,"tlsCertificateFilePath":null,"tlsTrustCertsFilePath":null,"tlsAllowInsecureConnection":false,"tlsHostnameVerificationEnable":false,"sslFactoryPlugin":"com.tongtech.cnmq.common.util.DefaultCnmqSslFactory","sslFactoryPluginParams":"","concurrentLookupRequest":5000,"maxLookupRequest":50000,"maxLookupRedirects":20,"maxNumberOfRejectedRequestPerConnection":50,"keepAliveIntervalSeconds":30,"connectionTimeoutMs":10000,"requestTimeoutMs":60000,"readTimeoutMs":60000,"autoCertRefreshSeconds":300,"initialBackoffIntervalNanos":100000000,"maxBackoffIntervalNanos":60000000000,"enableBusyWait":false,"listenerName":null,"useKeyStoreTls":false,"sslProvider":null,"tlsKeyStoreType":"JKS","tlsKeyStorePath":null,"tlsKeyStorePassword":null,"tlsTrustStoreType":"JKS","tlsTrustStorePath":null,"tlsTrustStorePassword":null,"tlsCiphers":[],"tlsProtocols":[],"memoryLimitBytes":67108864,"proxyServiceUrl":null,"proxyProtocol":null,"enableTransaction":false,"dnsLookupBindAddress":null,"dnsLookupBindPort":0,"dnsServerAddresses":[],"socks5ProxyAddress":null,"socks5ProxyUsername":null,"socks5ProxyPassword":null,"description":null,"lookupProperties":{},"openTelemetry":null}
2025-07-21 13:38:16 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ProducerImpl - [persistent://public/default/function_test_DLQ] [persistent://public/default/function_test-persistent://public/default/function_test_sub-persistent://public/default/function_test_consumer-pchXc-DLQ] Creating producer on cnx [id: 0xb6b42d4a, L:/198.18.0.1:46748 - R:/10.10.22.176:6650]
2025-07-21 13:38:16 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ProducerImpl - [persistent://public/default/function_test_DLQ] [persistent://public/default/function_test-persistent://public/default/function_test_sub-persistent://public/default/function_test_consumer-pchXc-DLQ] Created producer on cnx [id: 0xb6b42d4a, L:/198.18.0.1:46748 - R:/10.10.22.176:6650]
2025-07-21 13:38:53 [SpringApplicationShutdownHook] INFO  c.t.cnmq.client.impl.CnmqClientImpl - Client closing. URL: pulsar://10.10.22.174:6650
2025-07-21 13:38:53 [SpringApplicationShutdownHook] INFO  c.t.c.c.i.ProducerStatsRecorderImpl - [persistent://public/default/function_test_DLQ] [persistent://public/default/function_test-persistent://public/default/function_test_sub-persistent://public/default/function_test_consumer-pchXc-DLQ] --- Publish throughput: 0.03 msg/s --- 0.00 Mbit/s --- Latency: med: 20.000 ms - 95pct: 20.000 ms - 99pct: 20.000 ms - 99.9pct: 20.000 ms - max: 20.000 ms --- BatchSize: med: 1.000 - 95pct: 1.000 - 99pct: 1.000 - 99.9pct: 1.000 - max: 1.000 --- MsgSize: med: 14.000 bytes - 95pct: 14.000 bytes - 99pct: 14.000 bytes - 99.9pct: 14.000 bytes - max: 14.000 bytes --- Ack received rate: 0.03 ack/s --- Failed messages: 0 --- Pending messages: 0
2025-07-21 13:38:53 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ProducerImpl - [persistent://public/default/function_test_DLQ] [persistent://public/default/function_test-persistent://public/default/function_test_sub-persistent://public/default/function_test_consumer-pchXc-DLQ] Closed Producer
2025-07-21 13:38:53 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ConsumerImpl - [persistent://public/default/function_test_DLQ] [persistent://public/default/function_test_DLQ_sub] Closed consumer
2025-07-21 13:38:53 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ConsumerImpl - [persistent://public/default/function_test] [persistent://public/default/function_test_sub] Closed consumer
2025-07-21 13:38:53 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ClientCnx - [id: 0xb6b42d4a, L:/198.18.0.1:46748 ! R:/10.10.22.176:6650] Disconnected
2025-07-21 13:38:53 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ClientCnx - [id: 0xdcf1c716, L:/198.18.0.1:52944 ! R:/10.10.22.174:6650] Disconnected
2025-07-21 13:39:22 [main] INFO  c.tongtech.cntest.CnTestApplication - Starting CnTestApplication using Java 17.0.15 with PID 316870 (/home/zhuhai/project/cn-test/target/classes started by zhuhai in /home/zhuhai/project/cn-test)
2025-07-21 13:39:22 [main] INFO  c.tongtech.cntest.CnTestApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-21 13:39:23 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-07-21 13:39:23 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-07-21 13:39:23 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-21 13:39:23 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-21 13:39:23 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-21 13:39:23 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1187 ms
2025-07-21 13:39:25 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-07-21 13:39:25 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-07-21 13:39:25 [main] INFO  c.tongtech.cntest.CnTestApplication - Started CnTestApplication in 3.928 seconds (process running for 4.699)
2025-07-21 13:39:26 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ConnectionPool - [[id: 0x5dd6032b, L:/198.18.0.1:53982 - R:/10.10.22.174:6650]] Connected to server
2025-07-21 13:39:26 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ConsumerStatsRecorderImpl - Starting Cnmq consumer status recorder with config: {"topicNames":["persistent://public/default/function_test"],"topicsPattern":null,"subscriptionName":"persistent://public/default/function_test_sub","subscriptionType":"Shared","subscriptionProperties":null,"subscriptionMode":"Durable","receiverQueueSize":1000,"acknowledgementsGroupTimeMicros":100000,"maxAcknowledgmentGroupSize":1000,"negativeAckRedeliveryDelayMicros":5000000,"negativeAckPrecisionBitCnt":8,"maxTotalReceiverQueueSizeAcrossPartitions":50000,"consumerName":"persistent://public/default/function_test_consumer","ackTimeoutMillis":3000,"tickDurationMillis":1000,"priorityLevel":0,"maxPendingChunkedMessage":10,"autoAckOldestChunkedMessageOnQueueFull":false,"expireTimeOfIncompleteChunkedMessageMillis":60000,"cryptoFailureAction":"FAIL","properties":{},"readCompacted":false,"subscriptionInitialPosition":"Latest","patternAutoDiscoveryPeriod":60,"regexSubscriptionMode":"PersistentOnly","deadLetterPolicy":{"maxRedeliverCount":2,"retryLetterTopic":null,"deadLetterTopic":"persistent://public/default/function_test_DLQ","initialSubscriptionName":null,"retryLetterProducerBuilderCustomizer":null,"deadLetterProducerBuilderCustomizer":null},"retryEnable":false,"autoUpdatePartitions":true,"autoUpdatePartitionsIntervalSeconds":60,"replicateSubscriptionState":null,"resetIncludeHead":false,"batchIndexAckEnabled":false,"ackReceiptEnabled":false,"poolMessages":false,"startPaused":false,"autoScaledReceiverQueueSizeEnabled":false,"topicConfigurations":[],"maxPendingChuckedMessage":10}
2025-07-21 13:39:26 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ConsumerStatsRecorderImpl - Cnmq client config: {"serviceUrl":"pulsar://10.10.22.174:6650","authPluginClassName":null,"authParams":null,"authParamMap":null,"operationTimeoutMs":30000,"lookupTimeoutMs":30000,"statsIntervalSeconds":60,"numIoThreads":8,"numListenerThreads":8,"connectionsPerBroker":1,"connectionMaxIdleSeconds":60,"useTcpNoDelay":true,"useTls":false,"tlsKeyFilePath":null,"tlsCertificateFilePath":null,"tlsTrustCertsFilePath":null,"tlsAllowInsecureConnection":false,"tlsHostnameVerificationEnable":false,"sslFactoryPlugin":"com.tongtech.cnmq.common.util.DefaultCnmqSslFactory","sslFactoryPluginParams":"","concurrentLookupRequest":5000,"maxLookupRequest":50000,"maxLookupRedirects":20,"maxNumberOfRejectedRequestPerConnection":50,"keepAliveIntervalSeconds":30,"connectionTimeoutMs":10000,"requestTimeoutMs":60000,"readTimeoutMs":60000,"autoCertRefreshSeconds":300,"initialBackoffIntervalNanos":100000000,"maxBackoffIntervalNanos":60000000000,"enableBusyWait":false,"listenerName":null,"useKeyStoreTls":false,"sslProvider":null,"tlsKeyStoreType":"JKS","tlsKeyStorePath":null,"tlsKeyStorePassword":null,"tlsTrustStoreType":"JKS","tlsTrustStorePath":null,"tlsTrustStorePassword":null,"tlsCiphers":[],"tlsProtocols":[],"memoryLimitBytes":67108864,"proxyServiceUrl":null,"proxyProtocol":null,"enableTransaction":false,"dnsLookupBindAddress":null,"dnsLookupBindPort":0,"dnsServerAddresses":[],"socks5ProxyAddress":null,"socks5ProxyUsername":null,"socks5ProxyPassword":null,"description":null,"lookupProperties":{},"openTelemetry":null}
2025-07-21 13:39:26 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ConsumerImpl - [persistent://public/default/function_test][persistent://public/default/function_test_sub] Subscribing to topic on cnx [id: 0x5dd6032b, L:/198.18.0.1:53982 - R:/10.10.22.174:6650], consumerId 0
2025-07-21 13:39:26 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ConsumerImpl - [persistent://public/default/function_test][persistent://public/default/function_test_sub] Subscribed to topic on /10.10.22.174:6650 -- consumer: 0
2025-07-21 13:39:26 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ConsumerStatsRecorderImpl - Starting Cnmq consumer status recorder with config: {"topicNames":["persistent://public/default/function_test_DLQ"],"topicsPattern":null,"subscriptionName":"persistent://public/default/function_test_DLQ_sub","subscriptionType":"Shared","subscriptionProperties":null,"subscriptionMode":"Durable","receiverQueueSize":1000,"acknowledgementsGroupTimeMicros":100000,"maxAcknowledgmentGroupSize":1000,"negativeAckRedeliveryDelayMicros":5000000,"negativeAckPrecisionBitCnt":8,"maxTotalReceiverQueueSizeAcrossPartitions":50000,"consumerName":"persistent://public/default/function_test_DLQ_consumer","ackTimeoutMillis":3000,"tickDurationMillis":1000,"priorityLevel":0,"maxPendingChunkedMessage":10,"autoAckOldestChunkedMessageOnQueueFull":false,"expireTimeOfIncompleteChunkedMessageMillis":60000,"cryptoFailureAction":"FAIL","properties":{},"readCompacted":false,"subscriptionInitialPosition":"Latest","patternAutoDiscoveryPeriod":60,"regexSubscriptionMode":"PersistentOnly","deadLetterPolicy":null,"retryEnable":false,"autoUpdatePartitions":true,"autoUpdatePartitionsIntervalSeconds":60,"replicateSubscriptionState":null,"resetIncludeHead":false,"batchIndexAckEnabled":false,"ackReceiptEnabled":false,"poolMessages":false,"startPaused":false,"autoScaledReceiverQueueSizeEnabled":false,"topicConfigurations":[],"maxPendingChuckedMessage":10}
2025-07-21 13:39:26 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ConsumerStatsRecorderImpl - Cnmq client config: {"serviceUrl":"pulsar://10.10.22.174:6650","authPluginClassName":null,"authParams":null,"authParamMap":null,"operationTimeoutMs":30000,"lookupTimeoutMs":30000,"statsIntervalSeconds":60,"numIoThreads":8,"numListenerThreads":8,"connectionsPerBroker":1,"connectionMaxIdleSeconds":60,"useTcpNoDelay":true,"useTls":false,"tlsKeyFilePath":null,"tlsCertificateFilePath":null,"tlsTrustCertsFilePath":null,"tlsAllowInsecureConnection":false,"tlsHostnameVerificationEnable":false,"sslFactoryPlugin":"com.tongtech.cnmq.common.util.DefaultCnmqSslFactory","sslFactoryPluginParams":"","concurrentLookupRequest":5000,"maxLookupRequest":50000,"maxLookupRedirects":20,"maxNumberOfRejectedRequestPerConnection":50,"keepAliveIntervalSeconds":30,"connectionTimeoutMs":10000,"requestTimeoutMs":60000,"readTimeoutMs":60000,"autoCertRefreshSeconds":300,"initialBackoffIntervalNanos":100000000,"maxBackoffIntervalNanos":60000000000,"enableBusyWait":false,"listenerName":null,"useKeyStoreTls":false,"sslProvider":null,"tlsKeyStoreType":"JKS","tlsKeyStorePath":null,"tlsKeyStorePassword":null,"tlsTrustStoreType":"JKS","tlsTrustStorePath":null,"tlsTrustStorePassword":null,"tlsCiphers":[],"tlsProtocols":[],"memoryLimitBytes":67108864,"proxyServiceUrl":null,"proxyProtocol":null,"enableTransaction":false,"dnsLookupBindAddress":null,"dnsLookupBindPort":0,"dnsServerAddresses":[],"socks5ProxyAddress":null,"socks5ProxyUsername":null,"socks5ProxyPassword":null,"description":null,"lookupProperties":{},"openTelemetry":null}
2025-07-21 13:39:26 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ConnectionPool - [[id: 0xef0dd62d, L:/198.18.0.1:46244 - R:/10.10.22.176:6650]] Connected to server
2025-07-21 13:39:26 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ConsumerImpl - [persistent://public/default/function_test_DLQ][persistent://public/default/function_test_DLQ_sub] Subscribing to topic on cnx [id: 0xef0dd62d, L:/198.18.0.1:46244 - R:/10.10.22.176:6650], consumerId 1
2025-07-21 13:39:26 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ConsumerImpl - [persistent://public/default/function_test_DLQ][persistent://public/default/function_test_DLQ_sub] Subscribed to topic on /10.10.22.176:6650 -- consumer: 1
2025-07-21 13:39:26 [main] INFO  c.t.c.c.i.ProducerStatsRecorderImpl - Starting Cnmq producer perf with config: {"topicName":"persistent://public/default/function_test","producerName":null,"sendTimeoutMs":1000,"blockIfQueueFull":false,"maxPendingMessages":0,"maxPendingMessagesAcrossPartitions":0,"messageRoutingMode":"RoundRobinPartition","hashingScheme":"JavaStringHash","cryptoFailureAction":"FAIL","batchingMaxPublishDelayMicros":1000,"batchingPartitionSwitchFrequencyByPublishDelay":10,"batchingMaxMessages":1000,"batchingMaxBytes":131072,"batchingEnabled":true,"chunkingEnabled":false,"chunkMaxMessageSize":-1,"encryptionKeys":[],"compressionType":"NONE","initialSequenceId":null,"autoUpdatePartitions":true,"autoUpdatePartitionsIntervalSeconds":60,"multiSchema":true,"accessMode":"Shared","lazyStartPartitionedProducers":false,"properties":{},"initialSubscriptionName":null,"nonPartitionedTopicExpected":false,"replProducer":false}
2025-07-21 13:39:26 [main] INFO  c.t.c.c.i.ProducerStatsRecorderImpl - Cnmq client config: {"serviceUrl":"pulsar://10.10.22.174:6650","authPluginClassName":null,"authParams":null,"authParamMap":null,"operationTimeoutMs":30000,"lookupTimeoutMs":30000,"statsIntervalSeconds":60,"numIoThreads":8,"numListenerThreads":8,"connectionsPerBroker":1,"connectionMaxIdleSeconds":60,"useTcpNoDelay":true,"useTls":false,"tlsKeyFilePath":null,"tlsCertificateFilePath":null,"tlsTrustCertsFilePath":null,"tlsAllowInsecureConnection":false,"tlsHostnameVerificationEnable":false,"sslFactoryPlugin":"com.tongtech.cnmq.common.util.DefaultCnmqSslFactory","sslFactoryPluginParams":"","concurrentLookupRequest":5000,"maxLookupRequest":50000,"maxLookupRedirects":20,"maxNumberOfRejectedRequestPerConnection":50,"keepAliveIntervalSeconds":30,"connectionTimeoutMs":10000,"requestTimeoutMs":60000,"readTimeoutMs":60000,"autoCertRefreshSeconds":300,"initialBackoffIntervalNanos":100000000,"maxBackoffIntervalNanos":60000000000,"enableBusyWait":false,"listenerName":null,"useKeyStoreTls":false,"sslProvider":null,"tlsKeyStoreType":"JKS","tlsKeyStorePath":null,"tlsKeyStorePassword":null,"tlsTrustStoreType":"JKS","tlsTrustStorePath":null,"tlsTrustStorePassword":null,"tlsCiphers":[],"tlsProtocols":[],"memoryLimitBytes":67108864,"proxyServiceUrl":null,"proxyProtocol":null,"enableTransaction":false,"dnsLookupBindAddress":null,"dnsLookupBindPort":0,"dnsServerAddresses":[],"socks5ProxyAddress":null,"socks5ProxyUsername":null,"socks5ProxyPassword":null,"description":null,"lookupProperties":{},"openTelemetry":null}
2025-07-21 13:39:26 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ProducerImpl - [persistent://public/default/function_test] [null] Creating producer on cnx [id: 0x5dd6032b, L:/198.18.0.1:53982 - R:/10.10.22.174:6650]
2025-07-21 13:39:26 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ProducerImpl - [persistent://public/default/function_test] [174-177_test-34-1] Created producer on cnx [id: 0x5dd6032b, L:/198.18.0.1:53982 - R:/10.10.22.174:6650]
2025-07-21 13:39:26 [main] INFO  c.t.c.c.i.ProducerStatsRecorderImpl - [persistent://public/default/function_test] [174-177_test-34-1] --- Publish throughput: 20.47 msg/s --- 0.00 Mbit/s --- Latency: med: 25.000 ms - 95pct: 25.000 ms - 99pct: 25.000 ms - 99.9pct: 25.000 ms - max: 25.000 ms --- BatchSize: med: 1.000 - 95pct: 1.000 - 99pct: 1.000 - 99.9pct: 1.000 - max: 1.000 --- MsgSize: med: 14.000 bytes - 95pct: 14.000 bytes - 99pct: 14.000 bytes - 99.9pct: 14.000 bytes - max: 14.000 bytes --- Ack received rate: 20.47 ack/s --- Failed messages: 0 --- Pending messages: 0
2025-07-21 13:39:26 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ProducerImpl - [persistent://public/default/function_test] [174-177_test-34-1] Closed Producer
2025-07-21 13:39:30 [cnmq-timer-28-1] INFO  c.t.c.c.impl.UnAckedMessageTracker - [ConsumerBase{subscription='persistent://public/default/function_test_sub', consumerName='persistent://public/default/function_test_consumer', topic='persistent://public/default/function_test'}] 1 messages will be re-delivered
2025-07-21 13:39:34 [cnmq-timer-28-1] INFO  c.t.c.c.impl.UnAckedMessageTracker - [ConsumerBase{subscription='persistent://public/default/function_test_sub', consumerName='persistent://public/default/function_test_consumer', topic='persistent://public/default/function_test'}] 1 messages will be re-delivered
2025-07-21 13:39:38 [cnmq-timer-28-1] INFO  c.t.c.c.impl.UnAckedMessageTracker - [ConsumerBase{subscription='persistent://public/default/function_test_sub', consumerName='persistent://public/default/function_test_consumer', topic='persistent://public/default/function_test'}] 1 messages will be re-delivered
2025-07-21 13:39:38 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ProducerStatsRecorderImpl - Starting Cnmq producer perf with config: {"topicName":"persistent://public/default/function_test_DLQ","producerName":"persistent://public/default/function_test-persistent://public/default/function_test_sub-persistent://public/default/function_test_consumer-fBeUf-DLQ","sendTimeoutMs":30000,"blockIfQueueFull":false,"maxPendingMessages":0,"maxPendingMessagesAcrossPartitions":0,"messageRoutingMode":"RoundRobinPartition","hashingScheme":"JavaStringHash","cryptoFailureAction":"FAIL","batchingMaxPublishDelayMicros":1000,"batchingPartitionSwitchFrequencyByPublishDelay":10,"batchingMaxMessages":1000,"batchingMaxBytes":131072,"batchingEnabled":false,"chunkingEnabled":true,"chunkMaxMessageSize":-1,"encryptionKeys":[],"compressionType":"NONE","initialSequenceId":null,"autoUpdatePartitions":true,"autoUpdatePartitionsIntervalSeconds":60,"multiSchema":true,"accessMode":"Shared","lazyStartPartitionedProducers":false,"properties":{},"initialSubscriptionName":null,"nonPartitionedTopicExpected":false,"replProducer":false}
2025-07-21 13:39:38 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ProducerStatsRecorderImpl - Cnmq client config: {"serviceUrl":"pulsar://10.10.22.174:6650","authPluginClassName":null,"authParams":null,"authParamMap":null,"operationTimeoutMs":30000,"lookupTimeoutMs":30000,"statsIntervalSeconds":60,"numIoThreads":8,"numListenerThreads":8,"connectionsPerBroker":1,"connectionMaxIdleSeconds":60,"useTcpNoDelay":true,"useTls":false,"tlsKeyFilePath":null,"tlsCertificateFilePath":null,"tlsTrustCertsFilePath":null,"tlsAllowInsecureConnection":false,"tlsHostnameVerificationEnable":false,"sslFactoryPlugin":"com.tongtech.cnmq.common.util.DefaultCnmqSslFactory","sslFactoryPluginParams":"","concurrentLookupRequest":5000,"maxLookupRequest":50000,"maxLookupRedirects":20,"maxNumberOfRejectedRequestPerConnection":50,"keepAliveIntervalSeconds":30,"connectionTimeoutMs":10000,"requestTimeoutMs":60000,"readTimeoutMs":60000,"autoCertRefreshSeconds":300,"initialBackoffIntervalNanos":100000000,"maxBackoffIntervalNanos":60000000000,"enableBusyWait":false,"listenerName":null,"useKeyStoreTls":false,"sslProvider":null,"tlsKeyStoreType":"JKS","tlsKeyStorePath":null,"tlsKeyStorePassword":null,"tlsTrustStoreType":"JKS","tlsTrustStorePath":null,"tlsTrustStorePassword":null,"tlsCiphers":[],"tlsProtocols":[],"memoryLimitBytes":67108864,"proxyServiceUrl":null,"proxyProtocol":null,"enableTransaction":false,"dnsLookupBindAddress":null,"dnsLookupBindPort":0,"dnsServerAddresses":[],"socks5ProxyAddress":null,"socks5ProxyUsername":null,"socks5ProxyPassword":null,"description":null,"lookupProperties":{},"openTelemetry":null}
2025-07-21 13:39:38 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ProducerImpl - [persistent://public/default/function_test_DLQ] [persistent://public/default/function_test-persistent://public/default/function_test_sub-persistent://public/default/function_test_consumer-fBeUf-DLQ] Creating producer on cnx [id: 0xef0dd62d, L:/198.18.0.1:46244 - R:/10.10.22.176:6650]
2025-07-21 13:39:38 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ProducerImpl - [persistent://public/default/function_test_DLQ] [persistent://public/default/function_test-persistent://public/default/function_test_sub-persistent://public/default/function_test_consumer-fBeUf-DLQ] Created producer on cnx [id: 0xef0dd62d, L:/198.18.0.1:46244 - R:/10.10.22.176:6650]
2025-07-21 13:40:26 [cnmq-timer-28-1] INFO  c.t.c.c.i.ConsumerStatsRecorderImpl - [persistent://public/default/function_test] [persistent://public/default/function_test_sub] [persistent://public/default/function_test_consumer] Prefetched messages: 0 --- Consume throughput received: 0.05 msgs/s --- 0.00 Mbit/s --- Ack sent rate: 0.02 ack/s --- Failed messages: 0 --- batch messages: 0 ---Failed acks: 0
2025-07-21 13:40:26 [cnmq-timer-28-1] INFO  c.t.c.c.i.ConsumerStatsRecorderImpl - [persistent://public/default/function_test_DLQ] [persistent://public/default/function_test_DLQ_sub] [persistent://public/default/function_test_DLQ_consumer] Prefetched messages: 0 --- Consume throughput received: 0.02 msgs/s --- 0.00 Mbit/s --- Ack sent rate: 0.02 ack/s --- Failed messages: 0 --- batch messages: 0 ---Failed acks: 0
2025-07-21 13:40:38 [cnmq-timer-28-1] INFO  c.t.c.c.i.ProducerStatsRecorderImpl - [persistent://public/default/function_test_DLQ] [persistent://public/default/function_test-persistent://public/default/function_test_sub-persistent://public/default/function_test_consumer-fBeUf-DLQ] --- Publish throughput: 0.02 msg/s --- 0.00 Mbit/s --- Latency: med: 13.000 ms - 95pct: 13.000 ms - 99pct: 13.000 ms - 99.9pct: 13.000 ms - max: 13.000 ms --- BatchSize: med: 1.000 - 95pct: 1.000 - 99pct: 1.000 - 99.9pct: 1.000 - max: 1.000 --- MsgSize: med: 14.000 bytes - 95pct: 14.000 bytes - 99pct: 14.000 bytes - 99.9pct: 14.000 bytes - max: 14.000 bytes --- Ack received rate: 0.02 ack/s --- Failed messages: 0 --- Pending messages: 0
2025-07-21 13:41:42 [SpringApplicationShutdownHook] INFO  c.t.cnmq.client.impl.CnmqClientImpl - Client closing. URL: pulsar://10.10.22.174:6650
2025-07-21 13:41:42 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ProducerImpl - [persistent://public/default/function_test_DLQ] [persistent://public/default/function_test-persistent://public/default/function_test_sub-persistent://public/default/function_test_consumer-fBeUf-DLQ] Closed Producer
2025-07-21 13:41:42 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ConsumerImpl - [persistent://public/default/function_test_DLQ] [persistent://public/default/function_test_DLQ_sub] Closed consumer
2025-07-21 13:41:42 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ConsumerImpl - [persistent://public/default/function_test] [persistent://public/default/function_test_sub] Closed consumer
2025-07-21 13:41:42 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ClientCnx - [id: 0x5dd6032b, L:/198.18.0.1:53982 ! R:/10.10.22.174:6650] Disconnected
2025-07-21 13:41:42 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ClientCnx - [id: 0xef0dd62d, L:/198.18.0.1:46244 ! R:/10.10.22.176:6650] Disconnected
2025-07-21 13:41:48 [main] INFO  c.tongtech.cntest.CnTestApplication - Starting CnTestApplication using Java 17.0.15 with PID 318424 (/home/zhuhai/project/cn-test/target/classes started by zhuhai in /home/zhuhai/project/cn-test)
2025-07-21 13:41:48 [main] INFO  c.tongtech.cntest.CnTestApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-21 13:41:50 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-07-21 13:41:50 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-07-21 13:41:50 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-21 13:41:50 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-21 13:41:50 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-21 13:41:50 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1378 ms
2025-07-21 13:41:51 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-07-21 13:41:51 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-07-21 13:41:51 [main] INFO  c.tongtech.cntest.CnTestApplication - Started CnTestApplication in 4.895 seconds (process running for 5.826)
2025-07-21 13:41:52 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ConnectionPool - [[id: 0x2614c8f3, L:/198.18.0.1:54518 - R:/10.10.22.174:6650]] Connected to server
2025-07-21 13:41:52 [cnmq-client-lookup-27-1] INFO  c.t.c.c.i.ConsumerStatsRecorderImpl - Starting Cnmq consumer status recorder with config: {"topicNames":["persistent://public/default/function_test"],"topicsPattern":null,"subscriptionName":"persistent://public/default/function_test_sub","subscriptionType":"Shared","subscriptionProperties":null,"subscriptionMode":"Durable","receiverQueueSize":1000,"acknowledgementsGroupTimeMicros":100000,"maxAcknowledgmentGroupSize":1000,"negativeAckRedeliveryDelayMicros":5000000,"negativeAckPrecisionBitCnt":8,"maxTotalReceiverQueueSizeAcrossPartitions":50000,"consumerName":"persistent://public/default/function_test_consumer","ackTimeoutMillis":3000,"tickDurationMillis":1000,"priorityLevel":0,"maxPendingChunkedMessage":10,"autoAckOldestChunkedMessageOnQueueFull":false,"expireTimeOfIncompleteChunkedMessageMillis":60000,"cryptoFailureAction":"FAIL","properties":{},"readCompacted":false,"subscriptionInitialPosition":"Latest","patternAutoDiscoveryPeriod":60,"regexSubscriptionMode":"PersistentOnly","deadLetterPolicy":{"maxRedeliverCount":2,"retryLetterTopic":null,"deadLetterTopic":"persistent://public/default/function_test_DLQ","initialSubscriptionName":null,"retryLetterProducerBuilderCustomizer":null,"deadLetterProducerBuilderCustomizer":null},"retryEnable":false,"autoUpdatePartitions":true,"autoUpdatePartitionsIntervalSeconds":60,"replicateSubscriptionState":null,"resetIncludeHead":false,"batchIndexAckEnabled":false,"ackReceiptEnabled":false,"poolMessages":false,"startPaused":false,"autoScaledReceiverQueueSizeEnabled":false,"topicConfigurations":[],"maxPendingChuckedMessage":10}
2025-07-21 13:41:52 [cnmq-client-lookup-27-1] INFO  c.t.c.c.i.ConsumerStatsRecorderImpl - Cnmq client config: {"serviceUrl":"pulsar://10.10.22.174:6650","authPluginClassName":null,"authParams":null,"authParamMap":null,"operationTimeoutMs":30000,"lookupTimeoutMs":30000,"statsIntervalSeconds":60,"numIoThreads":8,"numListenerThreads":8,"connectionsPerBroker":1,"connectionMaxIdleSeconds":60,"useTcpNoDelay":true,"useTls":false,"tlsKeyFilePath":null,"tlsCertificateFilePath":null,"tlsTrustCertsFilePath":null,"tlsAllowInsecureConnection":false,"tlsHostnameVerificationEnable":false,"sslFactoryPlugin":"com.tongtech.cnmq.common.util.DefaultCnmqSslFactory","sslFactoryPluginParams":"","concurrentLookupRequest":5000,"maxLookupRequest":50000,"maxLookupRedirects":20,"maxNumberOfRejectedRequestPerConnection":50,"keepAliveIntervalSeconds":30,"connectionTimeoutMs":10000,"requestTimeoutMs":60000,"readTimeoutMs":60000,"autoCertRefreshSeconds":300,"initialBackoffIntervalNanos":100000000,"maxBackoffIntervalNanos":60000000000,"enableBusyWait":false,"listenerName":null,"useKeyStoreTls":false,"sslProvider":null,"tlsKeyStoreType":"JKS","tlsKeyStorePath":null,"tlsKeyStorePassword":null,"tlsTrustStoreType":"JKS","tlsTrustStorePath":null,"tlsTrustStorePassword":null,"tlsCiphers":[],"tlsProtocols":[],"memoryLimitBytes":67108864,"proxyServiceUrl":null,"proxyProtocol":null,"enableTransaction":false,"dnsLookupBindAddress":null,"dnsLookupBindPort":0,"dnsServerAddresses":[],"socks5ProxyAddress":null,"socks5ProxyUsername":null,"socks5ProxyPassword":null,"description":null,"lookupProperties":{},"openTelemetry":null}
2025-07-21 13:41:52 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ConsumerImpl - [persistent://public/default/function_test][persistent://public/default/function_test_sub] Subscribing to topic on cnx [id: 0x2614c8f3, L:/198.18.0.1:54518 - R:/10.10.22.174:6650], consumerId 0
2025-07-21 13:41:52 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ConsumerImpl - [persistent://public/default/function_test][persistent://public/default/function_test_sub] Subscribed to topic on /10.10.22.174:6650 -- consumer: 0
2025-07-21 13:41:52 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ConsumerStatsRecorderImpl - Starting Cnmq consumer status recorder with config: {"topicNames":["persistent://public/default/function_test_DLQ"],"topicsPattern":null,"subscriptionName":"persistent://public/default/function_test_DLQ_sub","subscriptionType":"Shared","subscriptionProperties":null,"subscriptionMode":"Durable","receiverQueueSize":1000,"acknowledgementsGroupTimeMicros":100000,"maxAcknowledgmentGroupSize":1000,"negativeAckRedeliveryDelayMicros":5000000,"negativeAckPrecisionBitCnt":8,"maxTotalReceiverQueueSizeAcrossPartitions":50000,"consumerName":"persistent://public/default/function_test_DLQ_consumer","ackTimeoutMillis":3000,"tickDurationMillis":1000,"priorityLevel":0,"maxPendingChunkedMessage":10,"autoAckOldestChunkedMessageOnQueueFull":false,"expireTimeOfIncompleteChunkedMessageMillis":60000,"cryptoFailureAction":"FAIL","properties":{},"readCompacted":false,"subscriptionInitialPosition":"Latest","patternAutoDiscoveryPeriod":60,"regexSubscriptionMode":"PersistentOnly","deadLetterPolicy":null,"retryEnable":false,"autoUpdatePartitions":true,"autoUpdatePartitionsIntervalSeconds":60,"replicateSubscriptionState":null,"resetIncludeHead":false,"batchIndexAckEnabled":false,"ackReceiptEnabled":false,"poolMessages":false,"startPaused":false,"autoScaledReceiverQueueSizeEnabled":false,"topicConfigurations":[],"maxPendingChuckedMessage":10}
2025-07-21 13:41:52 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ConsumerStatsRecorderImpl - Cnmq client config: {"serviceUrl":"pulsar://10.10.22.174:6650","authPluginClassName":null,"authParams":null,"authParamMap":null,"operationTimeoutMs":30000,"lookupTimeoutMs":30000,"statsIntervalSeconds":60,"numIoThreads":8,"numListenerThreads":8,"connectionsPerBroker":1,"connectionMaxIdleSeconds":60,"useTcpNoDelay":true,"useTls":false,"tlsKeyFilePath":null,"tlsCertificateFilePath":null,"tlsTrustCertsFilePath":null,"tlsAllowInsecureConnection":false,"tlsHostnameVerificationEnable":false,"sslFactoryPlugin":"com.tongtech.cnmq.common.util.DefaultCnmqSslFactory","sslFactoryPluginParams":"","concurrentLookupRequest":5000,"maxLookupRequest":50000,"maxLookupRedirects":20,"maxNumberOfRejectedRequestPerConnection":50,"keepAliveIntervalSeconds":30,"connectionTimeoutMs":10000,"requestTimeoutMs":60000,"readTimeoutMs":60000,"autoCertRefreshSeconds":300,"initialBackoffIntervalNanos":100000000,"maxBackoffIntervalNanos":60000000000,"enableBusyWait":false,"listenerName":null,"useKeyStoreTls":false,"sslProvider":null,"tlsKeyStoreType":"JKS","tlsKeyStorePath":null,"tlsKeyStorePassword":null,"tlsTrustStoreType":"JKS","tlsTrustStorePath":null,"tlsTrustStorePassword":null,"tlsCiphers":[],"tlsProtocols":[],"memoryLimitBytes":67108864,"proxyServiceUrl":null,"proxyProtocol":null,"enableTransaction":false,"dnsLookupBindAddress":null,"dnsLookupBindPort":0,"dnsServerAddresses":[],"socks5ProxyAddress":null,"socks5ProxyUsername":null,"socks5ProxyPassword":null,"description":null,"lookupProperties":{},"openTelemetry":null}
2025-07-21 13:41:52 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ConnectionPool - [[id: 0x03d13866, L:/198.18.0.1:50372 - R:/10.10.22.176:6650]] Connected to server
2025-07-21 13:41:52 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ConsumerImpl - [persistent://public/default/function_test_DLQ][persistent://public/default/function_test_DLQ_sub] Subscribing to topic on cnx [id: 0x03d13866, L:/198.18.0.1:50372 - R:/10.10.22.176:6650], consumerId 1
2025-07-21 13:41:53 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ConsumerImpl - [persistent://public/default/function_test_DLQ][persistent://public/default/function_test_DLQ_sub] Subscribed to topic on /10.10.22.176:6650 -- consumer: 1
2025-07-21 13:41:53 [main] INFO  c.t.c.c.i.ProducerStatsRecorderImpl - Starting Cnmq producer perf with config: {"topicName":"persistent://public/default/function_test","producerName":null,"sendTimeoutMs":1000,"blockIfQueueFull":false,"maxPendingMessages":0,"maxPendingMessagesAcrossPartitions":0,"messageRoutingMode":"RoundRobinPartition","hashingScheme":"JavaStringHash","cryptoFailureAction":"FAIL","batchingMaxPublishDelayMicros":1000,"batchingPartitionSwitchFrequencyByPublishDelay":10,"batchingMaxMessages":1000,"batchingMaxBytes":131072,"batchingEnabled":true,"chunkingEnabled":false,"chunkMaxMessageSize":-1,"encryptionKeys":[],"compressionType":"NONE","initialSequenceId":null,"autoUpdatePartitions":true,"autoUpdatePartitionsIntervalSeconds":60,"multiSchema":true,"accessMode":"Shared","lazyStartPartitionedProducers":false,"properties":{},"initialSubscriptionName":null,"nonPartitionedTopicExpected":false,"replProducer":false}
2025-07-21 13:41:53 [main] INFO  c.t.c.c.i.ProducerStatsRecorderImpl - Cnmq client config: {"serviceUrl":"pulsar://10.10.22.174:6650","authPluginClassName":null,"authParams":null,"authParamMap":null,"operationTimeoutMs":30000,"lookupTimeoutMs":30000,"statsIntervalSeconds":60,"numIoThreads":8,"numListenerThreads":8,"connectionsPerBroker":1,"connectionMaxIdleSeconds":60,"useTcpNoDelay":true,"useTls":false,"tlsKeyFilePath":null,"tlsCertificateFilePath":null,"tlsTrustCertsFilePath":null,"tlsAllowInsecureConnection":false,"tlsHostnameVerificationEnable":false,"sslFactoryPlugin":"com.tongtech.cnmq.common.util.DefaultCnmqSslFactory","sslFactoryPluginParams":"","concurrentLookupRequest":5000,"maxLookupRequest":50000,"maxLookupRedirects":20,"maxNumberOfRejectedRequestPerConnection":50,"keepAliveIntervalSeconds":30,"connectionTimeoutMs":10000,"requestTimeoutMs":60000,"readTimeoutMs":60000,"autoCertRefreshSeconds":300,"initialBackoffIntervalNanos":100000000,"maxBackoffIntervalNanos":60000000000,"enableBusyWait":false,"listenerName":null,"useKeyStoreTls":false,"sslProvider":null,"tlsKeyStoreType":"JKS","tlsKeyStorePath":null,"tlsKeyStorePassword":null,"tlsTrustStoreType":"JKS","tlsTrustStorePath":null,"tlsTrustStorePassword":null,"tlsCiphers":[],"tlsProtocols":[],"memoryLimitBytes":67108864,"proxyServiceUrl":null,"proxyProtocol":null,"enableTransaction":false,"dnsLookupBindAddress":null,"dnsLookupBindPort":0,"dnsServerAddresses":[],"socks5ProxyAddress":null,"socks5ProxyUsername":null,"socks5ProxyPassword":null,"description":null,"lookupProperties":{},"openTelemetry":null}
2025-07-21 13:41:53 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ProducerImpl - [persistent://public/default/function_test] [null] Creating producer on cnx [id: 0x2614c8f3, L:/198.18.0.1:54518 - R:/10.10.22.174:6650]
2025-07-21 13:41:53 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ProducerImpl - [persistent://public/default/function_test] [174-177_test-34-2] Created producer on cnx [id: 0x2614c8f3, L:/198.18.0.1:54518 - R:/10.10.22.174:6650]
2025-07-21 13:41:53 [main] INFO  c.t.c.c.i.ProducerStatsRecorderImpl - [persistent://public/default/function_test] [174-177_test-34-2] --- Publish throughput: 16.16 msg/s --- 0.00 Mbit/s --- Latency: med: 32.000 ms - 95pct: 32.000 ms - 99pct: 32.000 ms - 99.9pct: 32.000 ms - max: 32.000 ms --- BatchSize: med: 1.000 - 95pct: 1.000 - 99pct: 1.000 - 99.9pct: 1.000 - max: 1.000 --- MsgSize: med: 14.000 bytes - 95pct: 14.000 bytes - 99pct: 14.000 bytes - 99.9pct: 14.000 bytes - max: 14.000 bytes --- Ack received rate: 16.16 ack/s --- Failed messages: 0 --- Pending messages: 0
2025-07-21 13:41:53 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ProducerImpl - [persistent://public/default/function_test] [174-177_test-34-2] Closed Producer
2025-07-21 13:41:56 [cnmq-timer-28-1] INFO  c.t.c.c.impl.UnAckedMessageTracker - [ConsumerBase{subscription='persistent://public/default/function_test_sub', consumerName='persistent://public/default/function_test_consumer', topic='persistent://public/default/function_test'}] 1 messages will be re-delivered
2025-07-21 13:42:00 [cnmq-timer-28-1] INFO  c.t.c.c.impl.UnAckedMessageTracker - [ConsumerBase{subscription='persistent://public/default/function_test_sub', consumerName='persistent://public/default/function_test_consumer', topic='persistent://public/default/function_test'}] 1 messages will be re-delivered
2025-07-21 13:42:04 [cnmq-timer-28-1] INFO  c.t.c.c.impl.UnAckedMessageTracker - [ConsumerBase{subscription='persistent://public/default/function_test_sub', consumerName='persistent://public/default/function_test_consumer', topic='persistent://public/default/function_test'}] 1 messages will be re-delivered
2025-07-21 13:42:04 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ProducerStatsRecorderImpl - Starting Cnmq producer perf with config: {"topicName":"persistent://public/default/function_test_DLQ","producerName":"persistent://public/default/function_test-persistent://public/default/function_test_sub-persistent://public/default/function_test_consumer-lGm5E-DLQ","sendTimeoutMs":30000,"blockIfQueueFull":false,"maxPendingMessages":0,"maxPendingMessagesAcrossPartitions":0,"messageRoutingMode":"RoundRobinPartition","hashingScheme":"JavaStringHash","cryptoFailureAction":"FAIL","batchingMaxPublishDelayMicros":1000,"batchingPartitionSwitchFrequencyByPublishDelay":10,"batchingMaxMessages":1000,"batchingMaxBytes":131072,"batchingEnabled":false,"chunkingEnabled":true,"chunkMaxMessageSize":-1,"encryptionKeys":[],"compressionType":"NONE","initialSequenceId":null,"autoUpdatePartitions":true,"autoUpdatePartitionsIntervalSeconds":60,"multiSchema":true,"accessMode":"Shared","lazyStartPartitionedProducers":false,"properties":{},"initialSubscriptionName":null,"nonPartitionedTopicExpected":false,"replProducer":false}
2025-07-21 13:42:04 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ProducerStatsRecorderImpl - Cnmq client config: {"serviceUrl":"pulsar://10.10.22.174:6650","authPluginClassName":null,"authParams":null,"authParamMap":null,"operationTimeoutMs":30000,"lookupTimeoutMs":30000,"statsIntervalSeconds":60,"numIoThreads":8,"numListenerThreads":8,"connectionsPerBroker":1,"connectionMaxIdleSeconds":60,"useTcpNoDelay":true,"useTls":false,"tlsKeyFilePath":null,"tlsCertificateFilePath":null,"tlsTrustCertsFilePath":null,"tlsAllowInsecureConnection":false,"tlsHostnameVerificationEnable":false,"sslFactoryPlugin":"com.tongtech.cnmq.common.util.DefaultCnmqSslFactory","sslFactoryPluginParams":"","concurrentLookupRequest":5000,"maxLookupRequest":50000,"maxLookupRedirects":20,"maxNumberOfRejectedRequestPerConnection":50,"keepAliveIntervalSeconds":30,"connectionTimeoutMs":10000,"requestTimeoutMs":60000,"readTimeoutMs":60000,"autoCertRefreshSeconds":300,"initialBackoffIntervalNanos":100000000,"maxBackoffIntervalNanos":60000000000,"enableBusyWait":false,"listenerName":null,"useKeyStoreTls":false,"sslProvider":null,"tlsKeyStoreType":"JKS","tlsKeyStorePath":null,"tlsKeyStorePassword":null,"tlsTrustStoreType":"JKS","tlsTrustStorePath":null,"tlsTrustStorePassword":null,"tlsCiphers":[],"tlsProtocols":[],"memoryLimitBytes":67108864,"proxyServiceUrl":null,"proxyProtocol":null,"enableTransaction":false,"dnsLookupBindAddress":null,"dnsLookupBindPort":0,"dnsServerAddresses":[],"socks5ProxyAddress":null,"socks5ProxyUsername":null,"socks5ProxyPassword":null,"description":null,"lookupProperties":{},"openTelemetry":null}
2025-07-21 13:42:04 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ProducerImpl - [persistent://public/default/function_test_DLQ] [persistent://public/default/function_test-persistent://public/default/function_test_sub-persistent://public/default/function_test_consumer-lGm5E-DLQ] Creating producer on cnx [id: 0x03d13866, L:/198.18.0.1:50372 - R:/10.10.22.176:6650]
2025-07-21 13:42:04 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ProducerImpl - [persistent://public/default/function_test_DLQ] [persistent://public/default/function_test-persistent://public/default/function_test_sub-persistent://public/default/function_test_consumer-lGm5E-DLQ] Created producer on cnx [id: 0x03d13866, L:/198.18.0.1:50372 - R:/10.10.22.176:6650]
2025-07-21 13:42:24 [SpringApplicationShutdownHook] INFO  c.t.cnmq.client.impl.CnmqClientImpl - Client closing. URL: pulsar://10.10.22.174:6650
2025-07-21 13:42:24 [SpringApplicationShutdownHook] INFO  c.t.c.c.i.ProducerStatsRecorderImpl - [persistent://public/default/function_test_DLQ] [persistent://public/default/function_test-persistent://public/default/function_test_sub-persistent://public/default/function_test_consumer-lGm5E-DLQ] --- Publish throughput: 0.05 msg/s --- 0.00 Mbit/s --- Latency: med: 13.000 ms - 95pct: 13.000 ms - 99pct: 13.000 ms - 99.9pct: 13.000 ms - max: 13.000 ms --- BatchSize: med: 1.000 - 95pct: 1.000 - 99pct: 1.000 - 99.9pct: 1.000 - max: 1.000 --- MsgSize: med: 14.000 bytes - 95pct: 14.000 bytes - 99pct: 14.000 bytes - 99.9pct: 14.000 bytes - max: 14.000 bytes --- Ack received rate: 0.05 ack/s --- Failed messages: 0 --- Pending messages: 0
2025-07-21 13:42:24 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ProducerImpl - [persistent://public/default/function_test_DLQ] [persistent://public/default/function_test-persistent://public/default/function_test_sub-persistent://public/default/function_test_consumer-lGm5E-DLQ] Closed Producer
2025-07-21 13:42:24 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ConsumerImpl - [persistent://public/default/function_test_DLQ] [persistent://public/default/function_test_DLQ_sub] Closed consumer
2025-07-21 13:42:24 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ConsumerImpl - [persistent://public/default/function_test] [persistent://public/default/function_test_sub] Closed consumer
2025-07-21 13:42:24 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ClientCnx - [id: 0x2614c8f3, L:/198.18.0.1:54518 ! R:/10.10.22.174:6650] Disconnected
2025-07-21 13:42:24 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ClientCnx - [id: 0x03d13866, L:/198.18.0.1:50372 ! R:/10.10.22.176:6650] Disconnected
2025-07-21 13:42:46 [main] INFO  c.tongtech.cntest.CnTestApplication - Starting CnTestApplication using Java 17.0.15 with PID 319200 (/home/zhuhai/project/cn-test/target/classes started by zhuhai in /home/zhuhai/project/cn-test)
2025-07-21 13:42:46 [main] INFO  c.tongtech.cntest.CnTestApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-21 13:42:47 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-07-21 13:42:47 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-07-21 13:42:47 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-21 13:42:47 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-21 13:42:47 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-21 13:42:47 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1296 ms
2025-07-21 13:42:49 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-07-21 13:42:49 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-07-21 13:42:49 [main] INFO  c.tongtech.cntest.CnTestApplication - Started CnTestApplication in 4.075 seconds (process running for 4.877)
2025-07-21 13:42:50 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ConnectionPool - [[id: 0xfd4c6f51, L:/198.18.0.1:56818 - R:/10.10.22.174:6650]] Connected to server
2025-07-21 13:42:50 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ConsumerStatsRecorderImpl - Starting Cnmq consumer status recorder with config: {"topicNames":["persistent://public/default/function_test"],"topicsPattern":null,"subscriptionName":"persistent://public/default/function_test_sub","subscriptionType":"Shared","subscriptionProperties":null,"subscriptionMode":"Durable","receiverQueueSize":1000,"acknowledgementsGroupTimeMicros":100000,"maxAcknowledgmentGroupSize":1000,"negativeAckRedeliveryDelayMicros":60000000,"negativeAckPrecisionBitCnt":8,"maxTotalReceiverQueueSizeAcrossPartitions":50000,"consumerName":"persistent://public/default/function_test_consumer","ackTimeoutMillis":3000,"tickDurationMillis":1000,"priorityLevel":0,"maxPendingChunkedMessage":10,"autoAckOldestChunkedMessageOnQueueFull":false,"expireTimeOfIncompleteChunkedMessageMillis":60000,"cryptoFailureAction":"FAIL","properties":{},"readCompacted":false,"subscriptionInitialPosition":"Latest","patternAutoDiscoveryPeriod":60,"regexSubscriptionMode":"PersistentOnly","deadLetterPolicy":{"maxRedeliverCount":2,"retryLetterTopic":null,"deadLetterTopic":"persistent://public/default/function_test_DLQ","initialSubscriptionName":null,"retryLetterProducerBuilderCustomizer":null,"deadLetterProducerBuilderCustomizer":null},"retryEnable":false,"autoUpdatePartitions":true,"autoUpdatePartitionsIntervalSeconds":60,"replicateSubscriptionState":null,"resetIncludeHead":false,"batchIndexAckEnabled":false,"ackReceiptEnabled":false,"poolMessages":false,"startPaused":false,"autoScaledReceiverQueueSizeEnabled":false,"topicConfigurations":[],"maxPendingChuckedMessage":10}
2025-07-21 13:42:50 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ConsumerStatsRecorderImpl - Cnmq client config: {"serviceUrl":"pulsar://10.10.22.174:6650","authPluginClassName":null,"authParams":null,"authParamMap":null,"operationTimeoutMs":30000,"lookupTimeoutMs":30000,"statsIntervalSeconds":60,"numIoThreads":8,"numListenerThreads":8,"connectionsPerBroker":1,"connectionMaxIdleSeconds":60,"useTcpNoDelay":true,"useTls":false,"tlsKeyFilePath":null,"tlsCertificateFilePath":null,"tlsTrustCertsFilePath":null,"tlsAllowInsecureConnection":false,"tlsHostnameVerificationEnable":false,"sslFactoryPlugin":"com.tongtech.cnmq.common.util.DefaultCnmqSslFactory","sslFactoryPluginParams":"","concurrentLookupRequest":5000,"maxLookupRequest":50000,"maxLookupRedirects":20,"maxNumberOfRejectedRequestPerConnection":50,"keepAliveIntervalSeconds":30,"connectionTimeoutMs":10000,"requestTimeoutMs":60000,"readTimeoutMs":60000,"autoCertRefreshSeconds":300,"initialBackoffIntervalNanos":100000000,"maxBackoffIntervalNanos":60000000000,"enableBusyWait":false,"listenerName":null,"useKeyStoreTls":false,"sslProvider":null,"tlsKeyStoreType":"JKS","tlsKeyStorePath":null,"tlsKeyStorePassword":null,"tlsTrustStoreType":"JKS","tlsTrustStorePath":null,"tlsTrustStorePassword":null,"tlsCiphers":[],"tlsProtocols":[],"memoryLimitBytes":67108864,"proxyServiceUrl":null,"proxyProtocol":null,"enableTransaction":false,"dnsLookupBindAddress":null,"dnsLookupBindPort":0,"dnsServerAddresses":[],"socks5ProxyAddress":null,"socks5ProxyUsername":null,"socks5ProxyPassword":null,"description":null,"lookupProperties":{},"openTelemetry":null}
2025-07-21 13:42:50 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ConsumerImpl - [persistent://public/default/function_test][persistent://public/default/function_test_sub] Subscribing to topic on cnx [id: 0xfd4c6f51, L:/198.18.0.1:56818 - R:/10.10.22.174:6650], consumerId 0
2025-07-21 13:42:50 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ConsumerImpl - [persistent://public/default/function_test][persistent://public/default/function_test_sub] Subscribed to topic on /10.10.22.174:6650 -- consumer: 0
2025-07-21 13:42:50 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ConsumerStatsRecorderImpl - Starting Cnmq consumer status recorder with config: {"topicNames":["persistent://public/default/function_test_DLQ"],"topicsPattern":null,"subscriptionName":"persistent://public/default/function_test_DLQ_sub","subscriptionType":"Shared","subscriptionProperties":null,"subscriptionMode":"Durable","receiverQueueSize":1000,"acknowledgementsGroupTimeMicros":100000,"maxAcknowledgmentGroupSize":1000,"negativeAckRedeliveryDelayMicros":60000000,"negativeAckPrecisionBitCnt":8,"maxTotalReceiverQueueSizeAcrossPartitions":50000,"consumerName":"persistent://public/default/function_test_DLQ_consumer","ackTimeoutMillis":3000,"tickDurationMillis":1000,"priorityLevel":0,"maxPendingChunkedMessage":10,"autoAckOldestChunkedMessageOnQueueFull":false,"expireTimeOfIncompleteChunkedMessageMillis":60000,"cryptoFailureAction":"FAIL","properties":{},"readCompacted":false,"subscriptionInitialPosition":"Latest","patternAutoDiscoveryPeriod":60,"regexSubscriptionMode":"PersistentOnly","deadLetterPolicy":null,"retryEnable":false,"autoUpdatePartitions":true,"autoUpdatePartitionsIntervalSeconds":60,"replicateSubscriptionState":null,"resetIncludeHead":false,"batchIndexAckEnabled":false,"ackReceiptEnabled":false,"poolMessages":false,"startPaused":false,"autoScaledReceiverQueueSizeEnabled":false,"topicConfigurations":[],"maxPendingChuckedMessage":10}
2025-07-21 13:42:50 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ConsumerStatsRecorderImpl - Cnmq client config: {"serviceUrl":"pulsar://10.10.22.174:6650","authPluginClassName":null,"authParams":null,"authParamMap":null,"operationTimeoutMs":30000,"lookupTimeoutMs":30000,"statsIntervalSeconds":60,"numIoThreads":8,"numListenerThreads":8,"connectionsPerBroker":1,"connectionMaxIdleSeconds":60,"useTcpNoDelay":true,"useTls":false,"tlsKeyFilePath":null,"tlsCertificateFilePath":null,"tlsTrustCertsFilePath":null,"tlsAllowInsecureConnection":false,"tlsHostnameVerificationEnable":false,"sslFactoryPlugin":"com.tongtech.cnmq.common.util.DefaultCnmqSslFactory","sslFactoryPluginParams":"","concurrentLookupRequest":5000,"maxLookupRequest":50000,"maxLookupRedirects":20,"maxNumberOfRejectedRequestPerConnection":50,"keepAliveIntervalSeconds":30,"connectionTimeoutMs":10000,"requestTimeoutMs":60000,"readTimeoutMs":60000,"autoCertRefreshSeconds":300,"initialBackoffIntervalNanos":100000000,"maxBackoffIntervalNanos":60000000000,"enableBusyWait":false,"listenerName":null,"useKeyStoreTls":false,"sslProvider":null,"tlsKeyStoreType":"JKS","tlsKeyStorePath":null,"tlsKeyStorePassword":null,"tlsTrustStoreType":"JKS","tlsTrustStorePath":null,"tlsTrustStorePassword":null,"tlsCiphers":[],"tlsProtocols":[],"memoryLimitBytes":67108864,"proxyServiceUrl":null,"proxyProtocol":null,"enableTransaction":false,"dnsLookupBindAddress":null,"dnsLookupBindPort":0,"dnsServerAddresses":[],"socks5ProxyAddress":null,"socks5ProxyUsername":null,"socks5ProxyPassword":null,"description":null,"lookupProperties":{},"openTelemetry":null}
2025-07-21 13:42:50 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ConnectionPool - [[id: 0x4aaaf577, L:/198.18.0.1:48084 - R:/10.10.22.176:6650]] Connected to server
2025-07-21 13:42:50 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ConsumerImpl - [persistent://public/default/function_test_DLQ][persistent://public/default/function_test_DLQ_sub] Subscribing to topic on cnx [id: 0x4aaaf577, L:/198.18.0.1:48084 - R:/10.10.22.176:6650], consumerId 1
2025-07-21 13:42:50 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ConsumerImpl - [persistent://public/default/function_test_DLQ][persistent://public/default/function_test_DLQ_sub] Subscribed to topic on /10.10.22.176:6650 -- consumer: 1
2025-07-21 13:42:50 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ProducerStatsRecorderImpl - Starting Cnmq producer perf with config: {"topicName":"persistent://public/default/function_test","producerName":null,"sendTimeoutMs":1000,"blockIfQueueFull":false,"maxPendingMessages":0,"maxPendingMessagesAcrossPartitions":0,"messageRoutingMode":"RoundRobinPartition","hashingScheme":"JavaStringHash","cryptoFailureAction":"FAIL","batchingMaxPublishDelayMicros":1000,"batchingPartitionSwitchFrequencyByPublishDelay":10,"batchingMaxMessages":1000,"batchingMaxBytes":131072,"batchingEnabled":true,"chunkingEnabled":false,"chunkMaxMessageSize":-1,"encryptionKeys":[],"compressionType":"NONE","initialSequenceId":null,"autoUpdatePartitions":true,"autoUpdatePartitionsIntervalSeconds":60,"multiSchema":true,"accessMode":"Shared","lazyStartPartitionedProducers":false,"properties":{},"initialSubscriptionName":null,"nonPartitionedTopicExpected":false,"replProducer":false}
2025-07-21 13:42:50 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ProducerStatsRecorderImpl - Cnmq client config: {"serviceUrl":"pulsar://10.10.22.174:6650","authPluginClassName":null,"authParams":null,"authParamMap":null,"operationTimeoutMs":30000,"lookupTimeoutMs":30000,"statsIntervalSeconds":60,"numIoThreads":8,"numListenerThreads":8,"connectionsPerBroker":1,"connectionMaxIdleSeconds":60,"useTcpNoDelay":true,"useTls":false,"tlsKeyFilePath":null,"tlsCertificateFilePath":null,"tlsTrustCertsFilePath":null,"tlsAllowInsecureConnection":false,"tlsHostnameVerificationEnable":false,"sslFactoryPlugin":"com.tongtech.cnmq.common.util.DefaultCnmqSslFactory","sslFactoryPluginParams":"","concurrentLookupRequest":5000,"maxLookupRequest":50000,"maxLookupRedirects":20,"maxNumberOfRejectedRequestPerConnection":50,"keepAliveIntervalSeconds":30,"connectionTimeoutMs":10000,"requestTimeoutMs":60000,"readTimeoutMs":60000,"autoCertRefreshSeconds":300,"initialBackoffIntervalNanos":100000000,"maxBackoffIntervalNanos":60000000000,"enableBusyWait":false,"listenerName":null,"useKeyStoreTls":false,"sslProvider":null,"tlsKeyStoreType":"JKS","tlsKeyStorePath":null,"tlsKeyStorePassword":null,"tlsTrustStoreType":"JKS","tlsTrustStorePath":null,"tlsTrustStorePassword":null,"tlsCiphers":[],"tlsProtocols":[],"memoryLimitBytes":67108864,"proxyServiceUrl":null,"proxyProtocol":null,"enableTransaction":false,"dnsLookupBindAddress":null,"dnsLookupBindPort":0,"dnsServerAddresses":[],"socks5ProxyAddress":null,"socks5ProxyUsername":null,"socks5ProxyPassword":null,"description":null,"lookupProperties":{},"openTelemetry":null}
2025-07-21 13:42:50 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ProducerImpl - [persistent://public/default/function_test] [null] Creating producer on cnx [id: 0xfd4c6f51, L:/198.18.0.1:56818 - R:/10.10.22.174:6650]
2025-07-21 13:42:50 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ProducerImpl - [persistent://public/default/function_test] [174-177_test-34-3] Created producer on cnx [id: 0xfd4c6f51, L:/198.18.0.1:56818 - R:/10.10.22.174:6650]
2025-07-21 13:42:50 [main] INFO  c.t.c.c.i.ProducerStatsRecorderImpl - [persistent://public/default/function_test] [174-177_test-34-3] --- Publish throughput: 11.34 msg/s --- 0.00 Mbit/s --- Latency: med: 35.000 ms - 95pct: 35.000 ms - 99pct: 35.000 ms - 99.9pct: 35.000 ms - max: 35.000 ms --- BatchSize: med: 1.000 - 95pct: 1.000 - 99pct: 1.000 - 99.9pct: 1.000 - max: 1.000 --- MsgSize: med: 14.000 bytes - 95pct: 14.000 bytes - 99pct: 14.000 bytes - 99.9pct: 14.000 bytes - max: 14.000 bytes --- Ack received rate: 11.34 ack/s --- Failed messages: 0 --- Pending messages: 0
2025-07-21 13:42:50 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ProducerImpl - [persistent://public/default/function_test] [174-177_test-34-3] Closed Producer
2025-07-21 13:42:54 [cnmq-timer-28-1] INFO  c.t.c.c.impl.UnAckedMessageTracker - [ConsumerBase{subscription='persistent://public/default/function_test_sub', consumerName='persistent://public/default/function_test_consumer', topic='persistent://public/default/function_test'}] 1 messages will be re-delivered
2025-07-21 13:42:58 [cnmq-timer-28-1] INFO  c.t.c.c.impl.UnAckedMessageTracker - [ConsumerBase{subscription='persistent://public/default/function_test_sub', consumerName='persistent://public/default/function_test_consumer', topic='persistent://public/default/function_test'}] 1 messages will be re-delivered
2025-07-21 13:43:02 [cnmq-timer-28-1] INFO  c.t.c.c.impl.UnAckedMessageTracker - [ConsumerBase{subscription='persistent://public/default/function_test_sub', consumerName='persistent://public/default/function_test_consumer', topic='persistent://public/default/function_test'}] 1 messages will be re-delivered
2025-07-21 13:43:02 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ProducerStatsRecorderImpl - Starting Cnmq producer perf with config: {"topicName":"persistent://public/default/function_test_DLQ","producerName":"persistent://public/default/function_test-persistent://public/default/function_test_sub-persistent://public/default/function_test_consumer-L8Pwt-DLQ","sendTimeoutMs":30000,"blockIfQueueFull":false,"maxPendingMessages":0,"maxPendingMessagesAcrossPartitions":0,"messageRoutingMode":"RoundRobinPartition","hashingScheme":"JavaStringHash","cryptoFailureAction":"FAIL","batchingMaxPublishDelayMicros":1000,"batchingPartitionSwitchFrequencyByPublishDelay":10,"batchingMaxMessages":1000,"batchingMaxBytes":131072,"batchingEnabled":false,"chunkingEnabled":true,"chunkMaxMessageSize":-1,"encryptionKeys":[],"compressionType":"NONE","initialSequenceId":null,"autoUpdatePartitions":true,"autoUpdatePartitionsIntervalSeconds":60,"multiSchema":true,"accessMode":"Shared","lazyStartPartitionedProducers":false,"properties":{},"initialSubscriptionName":null,"nonPartitionedTopicExpected":false,"replProducer":false}
2025-07-21 13:43:02 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ProducerStatsRecorderImpl - Cnmq client config: {"serviceUrl":"pulsar://10.10.22.174:6650","authPluginClassName":null,"authParams":null,"authParamMap":null,"operationTimeoutMs":30000,"lookupTimeoutMs":30000,"statsIntervalSeconds":60,"numIoThreads":8,"numListenerThreads":8,"connectionsPerBroker":1,"connectionMaxIdleSeconds":60,"useTcpNoDelay":true,"useTls":false,"tlsKeyFilePath":null,"tlsCertificateFilePath":null,"tlsTrustCertsFilePath":null,"tlsAllowInsecureConnection":false,"tlsHostnameVerificationEnable":false,"sslFactoryPlugin":"com.tongtech.cnmq.common.util.DefaultCnmqSslFactory","sslFactoryPluginParams":"","concurrentLookupRequest":5000,"maxLookupRequest":50000,"maxLookupRedirects":20,"maxNumberOfRejectedRequestPerConnection":50,"keepAliveIntervalSeconds":30,"connectionTimeoutMs":10000,"requestTimeoutMs":60000,"readTimeoutMs":60000,"autoCertRefreshSeconds":300,"initialBackoffIntervalNanos":100000000,"maxBackoffIntervalNanos":60000000000,"enableBusyWait":false,"listenerName":null,"useKeyStoreTls":false,"sslProvider":null,"tlsKeyStoreType":"JKS","tlsKeyStorePath":null,"tlsKeyStorePassword":null,"tlsTrustStoreType":"JKS","tlsTrustStorePath":null,"tlsTrustStorePassword":null,"tlsCiphers":[],"tlsProtocols":[],"memoryLimitBytes":67108864,"proxyServiceUrl":null,"proxyProtocol":null,"enableTransaction":false,"dnsLookupBindAddress":null,"dnsLookupBindPort":0,"dnsServerAddresses":[],"socks5ProxyAddress":null,"socks5ProxyUsername":null,"socks5ProxyPassword":null,"description":null,"lookupProperties":{},"openTelemetry":null}
2025-07-21 13:43:02 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ProducerImpl - [persistent://public/default/function_test_DLQ] [persistent://public/default/function_test-persistent://public/default/function_test_sub-persistent://public/default/function_test_consumer-L8Pwt-DLQ] Creating producer on cnx [id: 0x4aaaf577, L:/198.18.0.1:48084 - R:/10.10.22.176:6650]
2025-07-21 13:43:02 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ProducerImpl - [persistent://public/default/function_test_DLQ] [persistent://public/default/function_test-persistent://public/default/function_test_sub-persistent://public/default/function_test_consumer-L8Pwt-DLQ] Created producer on cnx [id: 0x4aaaf577, L:/198.18.0.1:48084 - R:/10.10.22.176:6650]
2025-07-21 13:43:20 [SpringApplicationShutdownHook] INFO  c.t.cnmq.client.impl.CnmqClientImpl - Client closing. URL: pulsar://10.10.22.174:6650
2025-07-21 13:43:20 [SpringApplicationShutdownHook] INFO  c.t.c.c.i.ProducerStatsRecorderImpl - [persistent://public/default/function_test_DLQ] [persistent://public/default/function_test-persistent://public/default/function_test_sub-persistent://public/default/function_test_consumer-L8Pwt-DLQ] --- Publish throughput: 0.06 msg/s --- 0.00 Mbit/s --- Latency: med: 18.000 ms - 95pct: 18.000 ms - 99pct: 18.000 ms - 99.9pct: 18.000 ms - max: 18.000 ms --- BatchSize: med: 1.000 - 95pct: 1.000 - 99pct: 1.000 - 99.9pct: 1.000 - max: 1.000 --- MsgSize: med: 14.000 bytes - 95pct: 14.000 bytes - 99pct: 14.000 bytes - 99.9pct: 14.000 bytes - max: 14.000 bytes --- Ack received rate: 0.06 ack/s --- Failed messages: 0 --- Pending messages: 0
2025-07-21 13:43:20 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ProducerImpl - [persistent://public/default/function_test_DLQ] [persistent://public/default/function_test-persistent://public/default/function_test_sub-persistent://public/default/function_test_consumer-L8Pwt-DLQ] Closed Producer
2025-07-21 13:43:20 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ConsumerImpl - [persistent://public/default/function_test_DLQ] [persistent://public/default/function_test_DLQ_sub] Closed consumer
2025-07-21 13:43:20 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ConsumerImpl - [persistent://public/default/function_test] [persistent://public/default/function_test_sub] Closed consumer
2025-07-21 13:43:20 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ClientCnx - [id: 0xfd4c6f51, L:/198.18.0.1:56818 ! R:/10.10.22.174:6650] Disconnected
2025-07-21 13:43:20 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ClientCnx - [id: 0x4aaaf577, L:/198.18.0.1:48084 ! R:/10.10.22.176:6650] Disconnected
2025-07-21 13:47:38 [main] INFO  c.tongtech.cntest.CnTestApplication - Starting CnTestApplication using Java 17.0.15 with PID 322052 (/home/zhuhai/project/cn-test/target/classes started by zhuhai in /home/zhuhai/project/cn-test)
2025-07-21 13:47:38 [main] INFO  c.tongtech.cntest.CnTestApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-21 13:47:39 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-07-21 13:47:39 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-07-21 13:47:39 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-21 13:47:39 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-21 13:47:40 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-21 13:47:40 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1046 ms
2025-07-21 13:47:41 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-07-21 13:47:41 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-07-21 13:47:41 [main] INFO  c.tongtech.cntest.CnTestApplication - Started CnTestApplication in 3.37 seconds (process running for 4.056)
2025-07-21 13:47:42 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ConnectionPool - [[id: 0x87b58550, L:/198.18.0.1:60168 - R:/10.10.22.174:6650]] Connected to server
2025-07-21 13:47:42 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ConsumerStatsRecorderImpl - Starting Cnmq consumer status recorder with config: {"topicNames":["persistent://public/default/function_test"],"topicsPattern":null,"subscriptionName":"persistent://public/default/function_test_sub","subscriptionType":"Shared","subscriptionProperties":null,"subscriptionMode":"Durable","receiverQueueSize":1000,"acknowledgementsGroupTimeMicros":100000,"maxAcknowledgmentGroupSize":1000,"negativeAckRedeliveryDelayMicros":60000000,"negativeAckPrecisionBitCnt":8,"maxTotalReceiverQueueSizeAcrossPartitions":50000,"consumerName":"persistent://public/default/function_test_consumer","ackTimeoutMillis":3000,"tickDurationMillis":1000,"priorityLevel":0,"maxPendingChunkedMessage":10,"autoAckOldestChunkedMessageOnQueueFull":false,"expireTimeOfIncompleteChunkedMessageMillis":60000,"cryptoFailureAction":"FAIL","properties":{},"readCompacted":false,"subscriptionInitialPosition":"Latest","patternAutoDiscoveryPeriod":60,"regexSubscriptionMode":"PersistentOnly","deadLetterPolicy":{"maxRedeliverCount":2,"retryLetterTopic":null,"deadLetterTopic":"persistent://public/default/function_test_DLQ","initialSubscriptionName":null,"retryLetterProducerBuilderCustomizer":null,"deadLetterProducerBuilderCustomizer":null},"retryEnable":false,"autoUpdatePartitions":true,"autoUpdatePartitionsIntervalSeconds":60,"replicateSubscriptionState":null,"resetIncludeHead":false,"batchIndexAckEnabled":false,"ackReceiptEnabled":false,"poolMessages":false,"startPaused":false,"autoScaledReceiverQueueSizeEnabled":false,"topicConfigurations":[],"maxPendingChuckedMessage":10}
2025-07-21 13:47:42 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ConsumerStatsRecorderImpl - Cnmq client config: {"serviceUrl":"pulsar://10.10.22.174:6650","authPluginClassName":null,"authParams":null,"authParamMap":null,"operationTimeoutMs":30000,"lookupTimeoutMs":30000,"statsIntervalSeconds":60,"numIoThreads":8,"numListenerThreads":8,"connectionsPerBroker":1,"connectionMaxIdleSeconds":60,"useTcpNoDelay":true,"useTls":false,"tlsKeyFilePath":null,"tlsCertificateFilePath":null,"tlsTrustCertsFilePath":null,"tlsAllowInsecureConnection":false,"tlsHostnameVerificationEnable":false,"sslFactoryPlugin":"com.tongtech.cnmq.common.util.DefaultCnmqSslFactory","sslFactoryPluginParams":"","concurrentLookupRequest":5000,"maxLookupRequest":50000,"maxLookupRedirects":20,"maxNumberOfRejectedRequestPerConnection":50,"keepAliveIntervalSeconds":30,"connectionTimeoutMs":10000,"requestTimeoutMs":60000,"readTimeoutMs":60000,"autoCertRefreshSeconds":300,"initialBackoffIntervalNanos":100000000,"maxBackoffIntervalNanos":60000000000,"enableBusyWait":false,"listenerName":null,"useKeyStoreTls":false,"sslProvider":null,"tlsKeyStoreType":"JKS","tlsKeyStorePath":null,"tlsKeyStorePassword":null,"tlsTrustStoreType":"JKS","tlsTrustStorePath":null,"tlsTrustStorePassword":null,"tlsCiphers":[],"tlsProtocols":[],"memoryLimitBytes":67108864,"proxyServiceUrl":null,"proxyProtocol":null,"enableTransaction":false,"dnsLookupBindAddress":null,"dnsLookupBindPort":0,"dnsServerAddresses":[],"socks5ProxyAddress":null,"socks5ProxyUsername":null,"socks5ProxyPassword":null,"description":null,"lookupProperties":{},"openTelemetry":null}
2025-07-21 13:47:42 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ConsumerImpl - [persistent://public/default/function_test][persistent://public/default/function_test_sub] Subscribing to topic on cnx [id: 0x87b58550, L:/198.18.0.1:60168 - R:/10.10.22.174:6650], consumerId 0
2025-07-21 13:47:42 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ConsumerImpl - [persistent://public/default/function_test][persistent://public/default/function_test_sub] Subscribed to topic on /10.10.22.174:6650 -- consumer: 0
2025-07-21 13:47:42 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ConsumerStatsRecorderImpl - Starting Cnmq consumer status recorder with config: {"topicNames":["persistent://public/default/function_test_DLQ"],"topicsPattern":null,"subscriptionName":"persistent://public/default/function_test_DLQ_sub","subscriptionType":"Shared","subscriptionProperties":null,"subscriptionMode":"Durable","receiverQueueSize":1000,"acknowledgementsGroupTimeMicros":100000,"maxAcknowledgmentGroupSize":1000,"negativeAckRedeliveryDelayMicros":60000000,"negativeAckPrecisionBitCnt":8,"maxTotalReceiverQueueSizeAcrossPartitions":50000,"consumerName":"persistent://public/default/function_test_DLQ_consumer","ackTimeoutMillis":3000,"tickDurationMillis":1000,"priorityLevel":0,"maxPendingChunkedMessage":10,"autoAckOldestChunkedMessageOnQueueFull":false,"expireTimeOfIncompleteChunkedMessageMillis":60000,"cryptoFailureAction":"FAIL","properties":{},"readCompacted":false,"subscriptionInitialPosition":"Latest","patternAutoDiscoveryPeriod":60,"regexSubscriptionMode":"PersistentOnly","deadLetterPolicy":null,"retryEnable":false,"autoUpdatePartitions":true,"autoUpdatePartitionsIntervalSeconds":60,"replicateSubscriptionState":null,"resetIncludeHead":false,"batchIndexAckEnabled":false,"ackReceiptEnabled":false,"poolMessages":false,"startPaused":false,"autoScaledReceiverQueueSizeEnabled":false,"topicConfigurations":[],"maxPendingChuckedMessage":10}
2025-07-21 13:47:42 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ConsumerStatsRecorderImpl - Cnmq client config: {"serviceUrl":"pulsar://10.10.22.174:6650","authPluginClassName":null,"authParams":null,"authParamMap":null,"operationTimeoutMs":30000,"lookupTimeoutMs":30000,"statsIntervalSeconds":60,"numIoThreads":8,"numListenerThreads":8,"connectionsPerBroker":1,"connectionMaxIdleSeconds":60,"useTcpNoDelay":true,"useTls":false,"tlsKeyFilePath":null,"tlsCertificateFilePath":null,"tlsTrustCertsFilePath":null,"tlsAllowInsecureConnection":false,"tlsHostnameVerificationEnable":false,"sslFactoryPlugin":"com.tongtech.cnmq.common.util.DefaultCnmqSslFactory","sslFactoryPluginParams":"","concurrentLookupRequest":5000,"maxLookupRequest":50000,"maxLookupRedirects":20,"maxNumberOfRejectedRequestPerConnection":50,"keepAliveIntervalSeconds":30,"connectionTimeoutMs":10000,"requestTimeoutMs":60000,"readTimeoutMs":60000,"autoCertRefreshSeconds":300,"initialBackoffIntervalNanos":100000000,"maxBackoffIntervalNanos":60000000000,"enableBusyWait":false,"listenerName":null,"useKeyStoreTls":false,"sslProvider":null,"tlsKeyStoreType":"JKS","tlsKeyStorePath":null,"tlsKeyStorePassword":null,"tlsTrustStoreType":"JKS","tlsTrustStorePath":null,"tlsTrustStorePassword":null,"tlsCiphers":[],"tlsProtocols":[],"memoryLimitBytes":67108864,"proxyServiceUrl":null,"proxyProtocol":null,"enableTransaction":false,"dnsLookupBindAddress":null,"dnsLookupBindPort":0,"dnsServerAddresses":[],"socks5ProxyAddress":null,"socks5ProxyUsername":null,"socks5ProxyPassword":null,"description":null,"lookupProperties":{},"openTelemetry":null}
2025-07-21 13:47:42 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ConnectionPool - [[id: 0x870f3cca, L:/198.18.0.1:47424 - R:/10.10.22.176:6650]] Connected to server
2025-07-21 13:47:42 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ConsumerImpl - [persistent://public/default/function_test_DLQ][persistent://public/default/function_test_DLQ_sub] Subscribing to topic on cnx [id: 0x870f3cca, L:/198.18.0.1:47424 - R:/10.10.22.176:6650], consumerId 1
2025-07-21 13:47:42 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ConsumerImpl - [persistent://public/default/function_test_DLQ][persistent://public/default/function_test_DLQ_sub] Subscribed to topic on /10.10.22.176:6650 -- consumer: 1
2025-07-21 13:47:42 [main] INFO  c.t.c.c.i.ProducerStatsRecorderImpl - Starting Cnmq producer perf with config: {"topicName":"persistent://public/default/function_test","producerName":null,"sendTimeoutMs":1000,"blockIfQueueFull":false,"maxPendingMessages":0,"maxPendingMessagesAcrossPartitions":0,"messageRoutingMode":"RoundRobinPartition","hashingScheme":"JavaStringHash","cryptoFailureAction":"FAIL","batchingMaxPublishDelayMicros":1000,"batchingPartitionSwitchFrequencyByPublishDelay":10,"batchingMaxMessages":1000,"batchingMaxBytes":131072,"batchingEnabled":true,"chunkingEnabled":false,"chunkMaxMessageSize":-1,"encryptionKeys":[],"compressionType":"NONE","initialSequenceId":null,"autoUpdatePartitions":true,"autoUpdatePartitionsIntervalSeconds":60,"multiSchema":true,"accessMode":"Shared","lazyStartPartitionedProducers":false,"properties":{},"initialSubscriptionName":null,"nonPartitionedTopicExpected":false,"replProducer":false}
2025-07-21 13:47:42 [main] INFO  c.t.c.c.i.ProducerStatsRecorderImpl - Cnmq client config: {"serviceUrl":"pulsar://10.10.22.174:6650","authPluginClassName":null,"authParams":null,"authParamMap":null,"operationTimeoutMs":30000,"lookupTimeoutMs":30000,"statsIntervalSeconds":60,"numIoThreads":8,"numListenerThreads":8,"connectionsPerBroker":1,"connectionMaxIdleSeconds":60,"useTcpNoDelay":true,"useTls":false,"tlsKeyFilePath":null,"tlsCertificateFilePath":null,"tlsTrustCertsFilePath":null,"tlsAllowInsecureConnection":false,"tlsHostnameVerificationEnable":false,"sslFactoryPlugin":"com.tongtech.cnmq.common.util.DefaultCnmqSslFactory","sslFactoryPluginParams":"","concurrentLookupRequest":5000,"maxLookupRequest":50000,"maxLookupRedirects":20,"maxNumberOfRejectedRequestPerConnection":50,"keepAliveIntervalSeconds":30,"connectionTimeoutMs":10000,"requestTimeoutMs":60000,"readTimeoutMs":60000,"autoCertRefreshSeconds":300,"initialBackoffIntervalNanos":100000000,"maxBackoffIntervalNanos":60000000000,"enableBusyWait":false,"listenerName":null,"useKeyStoreTls":false,"sslProvider":null,"tlsKeyStoreType":"JKS","tlsKeyStorePath":null,"tlsKeyStorePassword":null,"tlsTrustStoreType":"JKS","tlsTrustStorePath":null,"tlsTrustStorePassword":null,"tlsCiphers":[],"tlsProtocols":[],"memoryLimitBytes":67108864,"proxyServiceUrl":null,"proxyProtocol":null,"enableTransaction":false,"dnsLookupBindAddress":null,"dnsLookupBindPort":0,"dnsServerAddresses":[],"socks5ProxyAddress":null,"socks5ProxyUsername":null,"socks5ProxyPassword":null,"description":null,"lookupProperties":{},"openTelemetry":null}
2025-07-21 13:47:42 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ProducerImpl - [persistent://public/default/function_test] [null] Creating producer on cnx [id: 0x87b58550, L:/198.18.0.1:60168 - R:/10.10.22.174:6650]
2025-07-21 13:47:42 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ProducerImpl - [persistent://public/default/function_test] [174-177_test-34-4] Created producer on cnx [id: 0x87b58550, L:/198.18.0.1:60168 - R:/10.10.22.174:6650]
2025-07-21 13:47:42 [main] INFO  c.t.c.c.i.ProducerStatsRecorderImpl - [persistent://public/default/function_test] [174-177_test-34-4] --- Publish throughput: 17.75 msg/s --- 0.00 Mbit/s --- Latency: med: 29.000 ms - 95pct: 29.000 ms - 99pct: 29.000 ms - 99.9pct: 29.000 ms - max: 29.000 ms --- BatchSize: med: 1.000 - 95pct: 1.000 - 99pct: 1.000 - 99.9pct: 1.000 - max: 1.000 --- MsgSize: med: 14.000 bytes - 95pct: 14.000 bytes - 99pct: 14.000 bytes - 99.9pct: 14.000 bytes - max: 14.000 bytes --- Ack received rate: 17.75 ack/s --- Failed messages: 0 --- Pending messages: 0
2025-07-21 13:47:42 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ProducerImpl - [persistent://public/default/function_test] [174-177_test-34-4] Closed Producer
2025-07-21 13:47:56 [cnmq-timer-28-1] INFO  c.t.c.c.i.UnAckedMessageRedeliveryTracker - [ConsumerBase{subscription='persistent://public/default/function_test_sub', consumerName='persistent://public/default/function_test_consumer', topic='persistent://public/default/function_test'}] 1 messages will be re-delivered
2025-07-21 13:48:10 [cnmq-timer-28-1] INFO  c.t.c.c.i.UnAckedMessageRedeliveryTracker - [ConsumerBase{subscription='persistent://public/default/function_test_sub', consumerName='persistent://public/default/function_test_consumer', topic='persistent://public/default/function_test'}] 1 messages will be re-delivered
2025-07-21 13:48:24 [cnmq-timer-28-1] INFO  c.t.c.c.i.UnAckedMessageRedeliveryTracker - [ConsumerBase{subscription='persistent://public/default/function_test_sub', consumerName='persistent://public/default/function_test_consumer', topic='persistent://public/default/function_test'}] 1 messages will be re-delivered
2025-07-21 13:48:24 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ProducerStatsRecorderImpl - Starting Cnmq producer perf with config: {"topicName":"persistent://public/default/function_test_DLQ","producerName":"persistent://public/default/function_test-persistent://public/default/function_test_sub-persistent://public/default/function_test_consumer-vrt4D-DLQ","sendTimeoutMs":30000,"blockIfQueueFull":false,"maxPendingMessages":0,"maxPendingMessagesAcrossPartitions":0,"messageRoutingMode":"RoundRobinPartition","hashingScheme":"JavaStringHash","cryptoFailureAction":"FAIL","batchingMaxPublishDelayMicros":1000,"batchingPartitionSwitchFrequencyByPublishDelay":10,"batchingMaxMessages":1000,"batchingMaxBytes":131072,"batchingEnabled":false,"chunkingEnabled":true,"chunkMaxMessageSize":-1,"encryptionKeys":[],"compressionType":"NONE","initialSequenceId":null,"autoUpdatePartitions":true,"autoUpdatePartitionsIntervalSeconds":60,"multiSchema":true,"accessMode":"Shared","lazyStartPartitionedProducers":false,"properties":{},"initialSubscriptionName":null,"nonPartitionedTopicExpected":false,"replProducer":false}
2025-07-21 13:48:24 [cnmq-client-io-1-3] INFO  c.t.c.c.i.ProducerStatsRecorderImpl - Cnmq client config: {"serviceUrl":"pulsar://10.10.22.174:6650","authPluginClassName":null,"authParams":null,"authParamMap":null,"operationTimeoutMs":30000,"lookupTimeoutMs":30000,"statsIntervalSeconds":60,"numIoThreads":8,"numListenerThreads":8,"connectionsPerBroker":1,"connectionMaxIdleSeconds":60,"useTcpNoDelay":true,"useTls":false,"tlsKeyFilePath":null,"tlsCertificateFilePath":null,"tlsTrustCertsFilePath":null,"tlsAllowInsecureConnection":false,"tlsHostnameVerificationEnable":false,"sslFactoryPlugin":"com.tongtech.cnmq.common.util.DefaultCnmqSslFactory","sslFactoryPluginParams":"","concurrentLookupRequest":5000,"maxLookupRequest":50000,"maxLookupRedirects":20,"maxNumberOfRejectedRequestPerConnection":50,"keepAliveIntervalSeconds":30,"connectionTimeoutMs":10000,"requestTimeoutMs":60000,"readTimeoutMs":60000,"autoCertRefreshSeconds":300,"initialBackoffIntervalNanos":100000000,"maxBackoffIntervalNanos":60000000000,"enableBusyWait":false,"listenerName":null,"useKeyStoreTls":false,"sslProvider":null,"tlsKeyStoreType":"JKS","tlsKeyStorePath":null,"tlsKeyStorePassword":null,"tlsTrustStoreType":"JKS","tlsTrustStorePath":null,"tlsTrustStorePassword":null,"tlsCiphers":[],"tlsProtocols":[],"memoryLimitBytes":67108864,"proxyServiceUrl":null,"proxyProtocol":null,"enableTransaction":false,"dnsLookupBindAddress":null,"dnsLookupBindPort":0,"dnsServerAddresses":[],"socks5ProxyAddress":null,"socks5ProxyUsername":null,"socks5ProxyPassword":null,"description":null,"lookupProperties":{},"openTelemetry":null}
2025-07-21 13:48:24 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ProducerImpl - [persistent://public/default/function_test_DLQ] [persistent://public/default/function_test-persistent://public/default/function_test_sub-persistent://public/default/function_test_consumer-vrt4D-DLQ] Creating producer on cnx [id: 0x870f3cca, L:/198.18.0.1:47424 - R:/10.10.22.176:6650]
2025-07-21 13:48:24 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ProducerImpl - [persistent://public/default/function_test_DLQ] [persistent://public/default/function_test-persistent://public/default/function_test_sub-persistent://public/default/function_test_consumer-vrt4D-DLQ] Created producer on cnx [id: 0x870f3cca, L:/198.18.0.1:47424 - R:/10.10.22.176:6650]
2025-07-21 13:48:42 [cnmq-timer-28-1] INFO  c.t.c.c.i.ConsumerStatsRecorderImpl - [persistent://public/default/function_test] [persistent://public/default/function_test_sub] [persistent://public/default/function_test_consumer] Prefetched messages: 0 --- Consume throughput received: 0.05 msgs/s --- 0.00 Mbit/s --- Ack sent rate: 0.02 ack/s --- Failed messages: 0 --- batch messages: 0 ---Failed acks: 0
2025-07-21 13:48:42 [cnmq-timer-28-1] INFO  c.t.c.c.i.ConsumerStatsRecorderImpl - [persistent://public/default/function_test_DLQ] [persistent://public/default/function_test_DLQ_sub] [persistent://public/default/function_test_DLQ_consumer] Prefetched messages: 0 --- Consume throughput received: 0.02 msgs/s --- 0.00 Mbit/s --- Ack sent rate: 0.02 ack/s --- Failed messages: 0 --- batch messages: 0 ---Failed acks: 0
2025-07-21 13:48:58 [SpringApplicationShutdownHook] INFO  c.t.cnmq.client.impl.CnmqClientImpl - Client closing. URL: pulsar://10.10.22.174:6650
2025-07-21 13:48:58 [SpringApplicationShutdownHook] INFO  c.t.c.c.i.ProducerStatsRecorderImpl - [persistent://public/default/function_test_DLQ] [persistent://public/default/function_test-persistent://public/default/function_test_sub-persistent://public/default/function_test_consumer-vrt4D-DLQ] --- Publish throughput: 0.03 msg/s --- 0.00 Mbit/s --- Latency: med: 18.000 ms - 95pct: 18.000 ms - 99pct: 18.000 ms - 99.9pct: 18.000 ms - max: 18.000 ms --- BatchSize: med: 1.000 - 95pct: 1.000 - 99pct: 1.000 - 99.9pct: 1.000 - max: 1.000 --- MsgSize: med: 14.000 bytes - 95pct: 14.000 bytes - 99pct: 14.000 bytes - 99.9pct: 14.000 bytes - max: 14.000 bytes --- Ack received rate: 0.03 ack/s --- Failed messages: 0 --- Pending messages: 0
2025-07-21 13:48:58 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ProducerImpl - [persistent://public/default/function_test_DLQ] [persistent://public/default/function_test-persistent://public/default/function_test_sub-persistent://public/default/function_test_consumer-vrt4D-DLQ] Closed Producer
2025-07-21 13:48:58 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ConsumerImpl - [persistent://public/default/function_test_DLQ] [persistent://public/default/function_test_DLQ_sub] Closed consumer
2025-07-21 13:48:58 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ConsumerImpl - [persistent://public/default/function_test] [persistent://public/default/function_test_sub] Closed consumer
2025-07-21 13:48:58 [cnmq-client-io-1-3] INFO  c.t.cnmq.client.impl.ClientCnx - [id: 0x87b58550, L:/198.18.0.1:60168 ! R:/10.10.22.174:6650] Disconnected
2025-07-21 13:48:58 [cnmq-client-io-1-7] INFO  c.t.cnmq.client.impl.ClientCnx - [id: 0x870f3cca, L:/198.18.0.1:47424 ! R:/10.10.22.176:6650] Disconnected
